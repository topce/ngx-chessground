import{Ia as ut,Ja as nt,Ka as rt,La as Wt,Oa as Pt,Pa as dt,Pb as Xt,Qa as yt,Qb as Jt,Rb as Qt,Sb as qt,Tb as $t,U as Et,Ua as Zt,Ub as te,V as Ft,Va as Vt,Vb as ee,Wa as Kt,Wb as At,Xb as Tt,ab as at,c as St,db as Mt,e as le,eb as vt,f as ce,fb as bt,gb as kt,ka as ct,ob as Gt,pa as Nt,ua as jt,wb as Ht,xa as Ot,xb as Yt}from"./chunk-33TU7GIT.js";var re=le((ne,Dt)=>{"use strict";(function(g){typeof ne=="object"&&typeof Dt<"u"?Dt.exports=g():typeof define=="function"&&define.amd?define([],g):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=g()})(function(){return(function g(T,u,o){function r(_,v){if(!u[_]){if(!T[_]){var m=typeof St=="function"&&St;if(!v&&m)return m(_,!0);if(n)return n(_,!0);var y=new Error("Cannot find module '"+_+"'");throw y.code="MODULE_NOT_FOUND",y}var a=u[_]={exports:{}};T[_][0].call(a.exports,function(d){var i=T[_][1][d];return r(i||d)},a,a.exports,g,T,u,o)}return u[_].exports}for(var n=typeof St=="function"&&St,s=0;s<o.length;s++)r(o[s]);return r})({1:[function(g,T,u){"use strict";var o=g("./utils"),r=g("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(s){for(var _,v,m,y,a,d,i,f=[],l=0,p=s.length,b=p,C=o.getTypeOf(s)!=="string";l<s.length;)b=p-l,m=C?(_=s[l++],v=l<p?s[l++]:0,l<p?s[l++]:0):(_=s.charCodeAt(l++),v=l<p?s.charCodeAt(l++):0,l<p?s.charCodeAt(l++):0),y=_>>2,a=(3&_)<<4|v>>4,d=1<b?(15&v)<<2|m>>6:64,i=2<b?63&m:64,f.push(n.charAt(y)+n.charAt(a)+n.charAt(d)+n.charAt(i));return f.join("")},u.decode=function(s){var _,v,m,y,a,d,i=0,f=0,l="data:";if(s.substr(0,l.length)===l)throw new Error("Invalid base64 input, it looks like a data url.");var p,b=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===n.charAt(64)&&b--,s.charAt(s.length-2)===n.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=r.uint8array?new Uint8Array(0|b):new Array(0|b);i<s.length;)_=n.indexOf(s.charAt(i++))<<2|(y=n.indexOf(s.charAt(i++)))>>4,v=(15&y)<<4|(a=n.indexOf(s.charAt(i++)))>>2,m=(3&a)<<6|(d=n.indexOf(s.charAt(i++))),p[f++]=_,a!==64&&(p[f++]=v),d!==64&&(p[f++]=m);return p}},{"./support":30,"./utils":32}],2:[function(g,T,u){"use strict";var o=g("./external"),r=g("./stream/DataWorker"),n=g("./stream/Crc32Probe"),s=g("./stream/DataLengthProbe");function _(v,m,y,a,d){this.compressedSize=v,this.uncompressedSize=m,this.crc32=y,this.compression=a,this.compressedContent=d}_.prototype={getContentWorker:function(){var v=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),m=this;return v.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(v,m,y){return v.pipe(new n).pipe(new s("uncompressedSize")).pipe(m.compressWorker(y)).pipe(new s("compressedSize")).withStreamInfo("compression",m)},T.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(g,T,u){"use strict";var o=g("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},u.DEFLATE=g("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(g,T,u){"use strict";var o=g("./utils"),r=(function(){for(var n,s=[],_=0;_<256;_++){n=_;for(var v=0;v<8;v++)n=1&n?3988292384^n>>>1:n>>>1;s[_]=n}return s})();T.exports=function(n,s){return n!==void 0&&n.length?o.getTypeOf(n)!=="string"?(function(_,v,m,y){var a=r,d=y+m;_^=-1;for(var i=y;i<d;i++)_=_>>>8^a[255&(_^v[i])];return-1^_})(0|s,n,n.length,0):(function(_,v,m,y){var a=r,d=y+m;_^=-1;for(var i=y;i<d;i++)_=_>>>8^a[255&(_^v.charCodeAt(i))];return-1^_})(0|s,n,n.length,0):0}},{"./utils":32}],5:[function(g,T,u){"use strict";u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(g,T,u){"use strict";var o=null;o=typeof Promise<"u"?Promise:g("lie"),T.exports={Promise:o}},{lie:37}],7:[function(g,T,u){"use strict";var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=g("pako"),n=g("./utils"),s=g("./stream/GenericWorker"),_=o?"uint8array":"array";function v(m,y){s.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=y,this.meta={}}u.magic="\b\0",n.inherits(v,s),v.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(_,m.data),!1)},v.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(y){m.push({data:y,meta:m.meta})}},u.compressWorker=function(m){return new v("Deflate",m)},u.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(g,T,u){"use strict";function o(a,d){var i,f="";for(i=0;i<d;i++)f+=String.fromCharCode(255&a),a>>>=8;return f}function r(a,d,i,f,l,p){var b,C,x=a.file,B=a.compression,I=p!==_.utf8encode,L=n.transformTo("string",p(x.name)),A=n.transformTo("string",_.utf8encode(x.name)),Z=x.comment,X=n.transformTo("string",p(Z)),w=n.transformTo("string",_.utf8encode(Z)),z=A.length!==x.name.length,e=w.length!==Z.length,P="",Q="",R="",q=x.dir,N=x.date,J={crc32:0,compressedSize:0,uncompressedSize:0};d&&!i||(J.crc32=a.crc32,J.compressedSize=a.compressedSize,J.uncompressedSize=a.uncompressedSize);var E=0;d&&(E|=8),I||!z&&!e||(E|=2048);var S=0,Y=0;q&&(S|=16),l==="UNIX"?(Y=798,S|=(function(V,st){var ht=V;return V||(ht=st?16893:33204),(65535&ht)<<16})(x.unixPermissions,q)):(Y=20,S|=(function(V){return 63&(V||0)})(x.dosPermissions)),b=N.getUTCHours(),b<<=6,b|=N.getUTCMinutes(),b<<=5,b|=N.getUTCSeconds()/2,C=N.getUTCFullYear()-1980,C<<=4,C|=N.getUTCMonth()+1,C<<=5,C|=N.getUTCDate(),z&&(Q=o(1,1)+o(v(L),4)+A,P+="up"+o(Q.length,2)+Q),e&&(R=o(1,1)+o(v(X),4)+w,P+="uc"+o(R.length,2)+R);var K="";return K+=`
\0`,K+=o(E,2),K+=B.magic,K+=o(b,2),K+=o(C,2),K+=o(J.crc32,4),K+=o(J.compressedSize,4),K+=o(J.uncompressedSize,4),K+=o(L.length,2),K+=o(P.length,2),{fileRecord:m.LOCAL_FILE_HEADER+K+L+P,dirRecord:m.CENTRAL_FILE_HEADER+o(Y,2)+K+o(X.length,2)+"\0\0\0\0"+o(S,4)+o(f,4)+L+P+X}}var n=g("../utils"),s=g("../stream/GenericWorker"),_=g("../utf8"),v=g("../crc32"),m=g("../signature");function y(a,d,i,f){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=i,this.encodeFileName=f,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(y,s),y.prototype.push=function(a){var d=a.meta.percent||0,i=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,s.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:i?(d+100*(i-f-1))/i:100}}))},y.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var d=this.streamFiles&&!a.file.dir;if(d){var i=r(a,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(a){this.accumulate=!1;var d=this.streamFiles&&!a.file.dir,i=r(a,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),d)this.push({data:(function(f){return m.DATA_DESCRIPTOR+o(f.crc32,4)+o(f.compressedSize,4)+o(f.uncompressedSize,4)})(a),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var a=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var i=this.bytesWritten-a,f=(function(l,p,b,C,x){var B=n.transformTo("string",x(C));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(l,2)+o(l,2)+o(p,4)+o(b,4)+o(B.length,2)+B})(this.dirRecords.length,i,a,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(a){this._sources.push(a);var d=this;return a.on("data",function(i){d.processChunk(i)}),a.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),a.on("error",function(i){d.error(i)}),this},y.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(a){var d=this._sources;if(!s.prototype.error.call(this,a))return!1;for(var i=0;i<d.length;i++)try{d[i].error(a)}catch{}return!0},y.prototype.lock=function(){s.prototype.lock.call(this);for(var a=this._sources,d=0;d<a.length;d++)a[d].lock()},T.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(g,T,u){"use strict";var o=g("../compressions"),r=g("./ZipFileWorker");u.generateWorker=function(n,s,_){var v=new r(s.streamFiles,_,s.platform,s.encodeFileName),m=0;try{n.forEach(function(y,a){m++;var d=(function(p,b){var C=p||b,x=o[C];if(!x)throw new Error(C+" is not a valid compression method !");return x})(a.options.compression,s.compression),i=a.options.compressionOptions||s.compressionOptions||{},f=a.dir,l=a.date;a._compressWorker(d,i).withStreamInfo("file",{name:y,dir:f,date:l,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(v)}),v.entriesCount=m}catch(y){v.error(y)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(g,T,u){"use strict";function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new o;for(var n in this)typeof this[n]!="function"&&(r[n]=this[n]);return r}}(o.prototype=g("./object")).loadAsync=g("./load"),o.support=g("./support"),o.defaults=g("./defaults"),o.version="3.10.1",o.loadAsync=function(r,n){return new o().loadAsync(r,n)},o.external=g("./external"),T.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(g,T,u){"use strict";var o=g("./utils"),r=g("./external"),n=g("./utf8"),s=g("./zipEntries"),_=g("./stream/Crc32Probe"),v=g("./nodejsUtils");function m(y){return new r.Promise(function(a,d){var i=y.decompressed.getContentWorker().pipe(new _);i.on("error",function(f){d(f)}).on("end",function(){i.streamInfo.crc32!==y.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}T.exports=function(y,a){var d=this;return a=o.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),v.isNode&&v.isStream(y)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,a.optimizedBinaryString,a.base64).then(function(i){var f=new s(a);return f.load(i),f}).then(function(i){var f=[r.Promise.resolve(i)],l=i.files;if(a.checkCRC32)for(var p=0;p<l.length;p++)f.push(m(l[p]));return r.Promise.all(f)}).then(function(i){for(var f=i.shift(),l=f.files,p=0;p<l.length;p++){var b=l[p],C=b.fileNameStr,x=o.resolve(b.fileNameStr);d.file(x,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:a.createFolders}),b.dir||(d.file(x).unsafeOriginalName=C)}return f.zipComment.length&&(d.comment=f.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(g,T,u){"use strict";var o=g("../utils"),r=g("../stream/GenericWorker");function n(s,_){r.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(_)}o.inherits(n,r),n.prototype._bindStream=function(s){var _=this;(this._stream=s).pause(),s.on("data",function(v){_.push({data:v,meta:{percent:0}})}).on("error",function(v){_.isPaused?this.generatedError=v:_.error(v)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},n.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},T.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(g,T,u){"use strict";var o=g("readable-stream").Readable;function r(n,s,_){o.call(this,s),this._helper=n;var v=this;n.on("data",function(m,y){v.push(m)||v._helper.pause(),_&&_(y)}).on("error",function(m){v.emit("error",m)}).on("end",function(){v.push(null)})}g("../utils").inherits(r,o),r.prototype._read=function(){this._helper.resume()},T.exports=r},{"../utils":32,"readable-stream":16}],14:[function(g,T,u){"use strict";T.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,r);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,r)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var r=new Buffer(o);return r.fill(0),r},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(g,T,u){"use strict";function o(x,B,I){var L,A=n.getTypeOf(B),Z=n.extend(I||{},v);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(x=l(x)),Z.createFolders&&(L=f(x))&&p.call(this,L,!0);var X=A==="string"&&Z.binary===!1&&Z.base64===!1;I&&I.binary!==void 0||(Z.binary=!X),(B instanceof m&&B.uncompressedSize===0||Z.dir||!B||B.length===0)&&(Z.base64=!1,Z.binary=!0,B="",Z.compression="STORE",A="string");var w=null;w=B instanceof m||B instanceof s?B:d.isNode&&d.isStream(B)?new i(x,B):n.prepareContent(x,B,Z.binary,Z.optimizedBinaryString,Z.base64);var z=new y(x,w,Z);this.files[x]=z}var r=g("./utf8"),n=g("./utils"),s=g("./stream/GenericWorker"),_=g("./stream/StreamHelper"),v=g("./defaults"),m=g("./compressedObject"),y=g("./zipObject"),a=g("./generate"),d=g("./nodejsUtils"),i=g("./nodejs/NodejsStreamInputAdapter"),f=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var B=x.lastIndexOf("/");return 0<B?x.substring(0,B):""},l=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},p=function(x,B){return B=B!==void 0?B:v.createFolders,x=l(x),this.files[x]||o.call(this,x,null,{dir:!0,createFolders:B}),this.files[x]};function b(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var B,I,L;for(B in this.files)L=this.files[B],(I=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&x(I,L)},filter:function(x){var B=[];return this.forEach(function(I,L){x(I,L)&&B.push(L)}),B},file:function(x,B,I){if(arguments.length!==1)return x=this.root+x,o.call(this,x,B,I),this;if(b(x)){var L=x;return this.filter(function(Z,X){return!X.dir&&L.test(Z)})}var A=this.files[this.root+x];return A&&!A.dir?A:null},folder:function(x){if(!x)return this;if(b(x))return this.filter(function(A,Z){return Z.dir&&x.test(A)});var B=this.root+x,I=p.call(this,B),L=this.clone();return L.root=I.name,L},remove:function(x){x=this.root+x;var B=this.files[x];if(B||(x.slice(-1)!=="/"&&(x+="/"),B=this.files[x]),B&&!B.dir)delete this.files[x];else for(var I=this.filter(function(A,Z){return Z.name.slice(0,x.length)===x}),L=0;L<I.length;L++)delete this.files[I[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var B,I={};try{if((I=n.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");n.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var L=I.comment||this.comment||"";B=a.generateWorker(this,I,L)}catch(A){(B=new s("error")).error(A)}return new _(B,I.type||"string",I.mimeType)},generateAsync:function(x,B){return this.generateInternalStream(x).accumulate(B)},generateNodeStream:function(x,B){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(B)}};T.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(g,T,u){"use strict";T.exports=g("stream")},{stream:void 0}],17:[function(g,T,u){"use strict";var o=g("./DataReader");function r(n){o.call(this,n);for(var s=0;s<this.data.length;s++)n[s]=255&n[s]}g("../utils").inherits(r,o),r.prototype.byteAt=function(n){return this.data[this.zero+n]},r.prototype.lastIndexOfSignature=function(n){for(var s=n.charCodeAt(0),_=n.charCodeAt(1),v=n.charCodeAt(2),m=n.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===s&&this.data[y+1]===_&&this.data[y+2]===v&&this.data[y+3]===m)return y-this.zero;return-1},r.prototype.readAndCheckSignature=function(n){var s=n.charCodeAt(0),_=n.charCodeAt(1),v=n.charCodeAt(2),m=n.charCodeAt(3),y=this.readData(4);return s===y[0]&&_===y[1]&&v===y[2]&&m===y[3]},r.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,s},T.exports=r},{"../utils":32,"./DataReader":18}],18:[function(g,T,u){"use strict";var o=g("../utils");function r(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var s,_=0;for(this.checkOffset(n),s=this.index+n-1;s>=this.index;s--)_=(_<<8)+this.byteAt(s);return this.index+=n,_},readString:function(n){return o.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},T.exports=r},{"../utils":32}],19:[function(g,T,u){"use strict";var o=g("./Uint8ArrayReader");function r(n){o.call(this,n)}g("../utils").inherits(r,o),r.prototype.readData=function(n){this.checkOffset(n);var s=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,s},T.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(g,T,u){"use strict";var o=g("./DataReader");function r(n){o.call(this,n)}g("../utils").inherits(r,o),r.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},r.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},r.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},r.prototype.readData=function(n){this.checkOffset(n);var s=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,s},T.exports=r},{"../utils":32,"./DataReader":18}],21:[function(g,T,u){"use strict";var o=g("./ArrayReader");function r(n){o.call(this,n)}g("../utils").inherits(r,o),r.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,s},T.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(g,T,u){"use strict";var o=g("../utils"),r=g("../support"),n=g("./ArrayReader"),s=g("./StringReader"),_=g("./NodeBufferReader"),v=g("./Uint8ArrayReader");T.exports=function(m){var y=o.getTypeOf(m);return o.checkSupport(y),y!=="string"||r.uint8array?y==="nodebuffer"?new _(m):r.uint8array?new v(o.transformTo("uint8array",m)):new n(o.transformTo("array",m)):new s(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(g,T,u){"use strict";u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(g,T,u){"use strict";var o=g("./GenericWorker"),r=g("../utils");function n(s){o.call(this,"ConvertWorker to "+s),this.destType=s}r.inherits(n,o),n.prototype.processChunk=function(s){this.push({data:r.transformTo(this.destType,s.data),meta:s.meta})},T.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(g,T,u){"use strict";var o=g("./GenericWorker"),r=g("../crc32");function n(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}g("../utils").inherits(n,o),n.prototype.processChunk=function(s){this.streamInfo.crc32=r(s.data,this.streamInfo.crc32||0),this.push(s)},T.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(g,T,u){"use strict";var o=g("../utils"),r=g("./GenericWorker");function n(s){r.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}o.inherits(n,r),n.prototype.processChunk=function(s){if(s){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+s.data.length}r.prototype.processChunk.call(this,s)},T.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(g,T,u){"use strict";var o=g("../utils"),r=g("./GenericWorker");function n(s){r.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(v){_.dataIsReady=!0,_.data=v,_.max=v&&v.length||0,_.type=o.getTypeOf(v),_.isPaused||_._tickAndRepeat()},function(v){_.error(v)})}o.inherits(n,r),n.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,_);break;case"uint8array":s=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":s=this.data.slice(this.index,_)}return this.index=_,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},T.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(g,T,u){"use strict";function o(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,n){return this._listeners[r].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,n){if(this._listeners[r])for(var s=0;s<this._listeners[r].length;s++)this._listeners[r][s].call(this,n)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var n=this;return r.on("data",function(s){n.processChunk(s)}),r.on("end",function(){n.end()}),r.on("error",function(s){n.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,n){return this.extraStreamInfo[r]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},T.exports=o},{}],29:[function(g,T,u){"use strict";var o=g("../utils"),r=g("./ConvertWorker"),n=g("./GenericWorker"),s=g("../base64"),_=g("../support"),v=g("../external"),m=null;if(_.nodestream)try{m=g("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(d,i){return new v.Promise(function(f,l){var p=[],b=d._internalType,C=d._outputType,x=d._mimeType;d.on("data",function(B,I){p.push(B),i&&i(I)}).on("error",function(B){p=[],l(B)}).on("end",function(){try{var B=(function(I,L,A){switch(I){case"blob":return o.newBlob(o.transformTo("arraybuffer",L),A);case"base64":return s.encode(L);default:return o.transformTo(I,L)}})(C,(function(I,L){var A,Z=0,X=null,w=0;for(A=0;A<L.length;A++)w+=L[A].length;switch(I){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(X=new Uint8Array(w),A=0;A<L.length;A++)X.set(L[A],Z),Z+=L[A].length;return X;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+I+"'")}})(b,p),x);f(B)}catch(I){l(I)}p=[]}).resume()})}function a(d,i,f){var l=i;switch(i){case"blob":case"arraybuffer":l="uint8array";break;case"base64":l="string"}try{this._internalType=l,this._outputType=i,this._mimeType=f,o.checkSupport(l),this._worker=d.pipe(new r(l)),d.lock()}catch(p){this._worker=new n("error"),this._worker.error(p)}}a.prototype={accumulate:function(d){return y(this,d)},on:function(d,i){var f=this;return d==="data"?this._worker.on(d,function(l){i.call(f,l.data,l.meta)}):this._worker.on(d,function(){o.delay(i,arguments,f)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},d)}},T.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(g,T,u){"use strict";if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var o=new ArrayBuffer(0);try{u.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(o),u.blob=r.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!g("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(g,T,u){"use strict";for(var o=g("./utils"),r=g("./support"),n=g("./nodejsUtils"),s=g("./stream/GenericWorker"),_=new Array(256),v=0;v<256;v++)_[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;_[254]=_[254]=1;function m(){s.call(this,"utf-8 decode"),this.leftOver=null}function y(){s.call(this,"utf-8 encode")}u.utf8encode=function(a){return r.nodebuffer?n.newBufferFrom(a,"utf-8"):(function(d){var i,f,l,p,b,C=d.length,x=0;for(p=0;p<C;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<C&&(64512&(l=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(l-56320),p++),x+=f<128?1:f<2048?2:f<65536?3:4;for(i=r.uint8array?new Uint8Array(x):new Array(x),p=b=0;b<x;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<C&&(64512&(l=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(l-56320),p++),f<128?i[b++]=f:(f<2048?i[b++]=192|f>>>6:(f<65536?i[b++]=224|f>>>12:(i[b++]=240|f>>>18,i[b++]=128|f>>>12&63),i[b++]=128|f>>>6&63),i[b++]=128|63&f);return i})(a)},u.utf8decode=function(a){return r.nodebuffer?o.transformTo("nodebuffer",a).toString("utf-8"):(function(d){var i,f,l,p,b=d.length,C=new Array(2*b);for(i=f=0;i<b;)if((l=d[i++])<128)C[f++]=l;else if(4<(p=_[l]))C[f++]=65533,i+=p-1;else{for(l&=p===2?31:p===3?15:7;1<p&&i<b;)l=l<<6|63&d[i++],p--;1<p?C[f++]=65533:l<65536?C[f++]=l:(l-=65536,C[f++]=55296|l>>10&1023,C[f++]=56320|1023&l)}return C.length!==f&&(C.subarray?C=C.subarray(0,f):C.length=f),o.applyFromCharCode(C)})(a=o.transformTo(r.uint8array?"uint8array":"array",a))},o.inherits(m,s),m.prototype.processChunk=function(a){var d=o.transformTo(r.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var i=d;(d=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),d.set(i,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var f=(function(p,b){var C;for((b=b||p.length)>p.length&&(b=p.length),C=b-1;0<=C&&(192&p[C])==128;)C--;return C<0||C===0?b:C+_[p[C]]>b?C:b})(d),l=d;f!==d.length&&(r.uint8array?(l=d.subarray(0,f),this.leftOver=d.subarray(f,d.length)):(l=d.slice(0,f),this.leftOver=d.slice(f,d.length))),this.push({data:u.utf8decode(l),meta:a.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=m,o.inherits(y,s),y.prototype.processChunk=function(a){this.push({data:u.utf8encode(a.data),meta:a.meta})},u.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(g,T,u){"use strict";var o=g("./support"),r=g("./base64"),n=g("./nodejsUtils"),s=g("./external");function _(i){return i}function v(i,f){for(var l=0;l<i.length;++l)f[l]=255&i.charCodeAt(l);return f}g("setimmediate"),u.newBlob=function(i,f){u.checkSupport("blob");try{return new Blob([i],{type:f})}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return l.append(i),l.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(i,f,l){var p=[],b=0,C=i.length;if(C<=l)return String.fromCharCode.apply(null,i);for(;b<C;)f==="array"||f==="nodebuffer"?p.push(String.fromCharCode.apply(null,i.slice(b,Math.min(b+l,C)))):p.push(String.fromCharCode.apply(null,i.subarray(b,Math.min(b+l,C)))),b+=l;return p.join("")},stringifyByChar:function(i){for(var f="",l=0;l<i.length;l++)f+=String.fromCharCode(i[l]);return f},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}})()}};function y(i){var f=65536,l=u.getTypeOf(i),p=!0;if(l==="uint8array"?p=m.applyCanBeUsed.uint8array:l==="nodebuffer"&&(p=m.applyCanBeUsed.nodebuffer),p)for(;1<f;)try{return m.stringifyByChunk(i,l,f)}catch{f=Math.floor(f/2)}return m.stringifyByChar(i)}function a(i,f){for(var l=0;l<i.length;l++)f[l]=i[l];return f}u.applyFromCharCode=y;var d={};d.string={string:_,array:function(i){return v(i,new Array(i.length))},arraybuffer:function(i){return d.string.uint8array(i).buffer},uint8array:function(i){return v(i,new Uint8Array(i.length))},nodebuffer:function(i){return v(i,n.allocBuffer(i.length))}},d.array={string:y,array:_,arraybuffer:function(i){return new Uint8Array(i).buffer},uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return n.newBufferFrom(i)}},d.arraybuffer={string:function(i){return y(new Uint8Array(i))},array:function(i){return a(new Uint8Array(i),new Array(i.byteLength))},arraybuffer:_,uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return n.newBufferFrom(new Uint8Array(i))}},d.uint8array={string:y,array:function(i){return a(i,new Array(i.length))},arraybuffer:function(i){return i.buffer},uint8array:_,nodebuffer:function(i){return n.newBufferFrom(i)}},d.nodebuffer={string:y,array:function(i){return a(i,new Array(i.length))},arraybuffer:function(i){return d.nodebuffer.uint8array(i).buffer},uint8array:function(i){return a(i,new Uint8Array(i.length))},nodebuffer:_},u.transformTo=function(i,f){if(f=f||"",!i)return f;u.checkSupport(i);var l=u.getTypeOf(f);return d[l][i](f)},u.resolve=function(i){for(var f=i.split("/"),l=[],p=0;p<f.length;p++){var b=f[p];b==="."||b===""&&p!==0&&p!==f.length-1||(b===".."?l.pop():l.push(b))}return l.join("/")},u.getTypeOf=function(i){return typeof i=="string"?"string":Object.prototype.toString.call(i)==="[object Array]"?"array":o.nodebuffer&&n.isBuffer(i)?"nodebuffer":o.uint8array&&i instanceof Uint8Array?"uint8array":o.arraybuffer&&i instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(i){if(!o[i.toLowerCase()])throw new Error(i+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(i){var f,l,p="";for(l=0;l<(i||"").length;l++)p+="\\x"+((f=i.charCodeAt(l))<16?"0":"")+f.toString(16).toUpperCase();return p},u.delay=function(i,f,l){setImmediate(function(){i.apply(l||null,f||[])})},u.inherits=function(i,f){function l(){}l.prototype=f.prototype,i.prototype=new l},u.extend=function(){var i,f,l={};for(i=0;i<arguments.length;i++)for(f in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],f)&&l[f]===void 0&&(l[f]=arguments[i][f]);return l},u.prepareContent=function(i,f,l,p,b){return s.Promise.resolve(f).then(function(C){return o.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new s.Promise(function(x,B){var I=new FileReader;I.onload=function(L){x(L.target.result)},I.onerror=function(L){B(L.target.error)},I.readAsArrayBuffer(C)}):C}).then(function(C){var x=u.getTypeOf(C);return x?(x==="arraybuffer"?C=u.transformTo("uint8array",C):x==="string"&&(b?C=r.decode(C):l&&p!==!0&&(C=(function(B){return v(B,o.uint8array?new Uint8Array(B.length):new Array(B.length))})(C))),C):s.Promise.reject(new Error("Can't read the data of '"+i+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(g,T,u){"use strict";var o=g("./reader/readerFor"),r=g("./utils"),n=g("./signature"),s=g("./zipEntry"),_=g("./support");function v(m){this.files=[],this.loadOptions=m}v.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(y)+", expected "+r.pretty(m)+")")}},isSignature:function(m,y){var a=this.reader.index;this.reader.setIndex(m);var d=this.reader.readString(4)===y;return this.reader.setIndex(a),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=_.uint8array?"uint8array":"array",a=r.transformTo(y,m);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,y,a,d=this.zip64EndOfCentralSize-44;0<d;)m=this.reader.readInt(2),y=this.reader.readInt(4),a=this.reader.readData(y),this.zip64ExtensibleData[m]={id:m,length:y,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,y;for(m=0;m<this.files.length;m++)y=this.files[m],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(m=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var y=m;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var d=y-a;if(0<d)this.isSignature(y,n.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},T.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(g,T,u){"use strict";var o=g("./reader/readerFor"),r=g("./utils"),n=g("./compressedObject"),s=g("./crc32"),_=g("./utf8"),v=g("./compressions"),m=g("./support");function y(a,d){this.options=a,this.loadOptions=d}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(a){var d,i;if(a.skip(22),this.fileNameLength=a.readInt(2),i=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(i),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=(function(f){for(var l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&v[l].magic===f)return v[l];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,d,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var d=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(d),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a==0&&(this.dosPermissions=63&this.externalFileAttributes),a==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var d,i,f,l=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<l;)d=a.readInt(2),i=a.readInt(2),f=a.readData(i),this.extraFields[d]={id:d,length:i,value:f};a.setIndex(l)},handleUTF8:function(){var a=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var i=r.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var l=r.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(l)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var d=o(a.value);return d.readInt(1)!==1||s(this.fileName)!==d.readInt(4)?null:_.utf8decode(d.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var d=o(a.value);return d.readInt(1)!==1||s(this.fileComment)!==d.readInt(4)?null:_.utf8decode(d.readData(a.length-5))}return null}},T.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(g,T,u){"use strict";function o(d,i,f){this.name=d,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=i,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var r=g("./stream/StreamHelper"),n=g("./stream/DataWorker"),s=g("./utf8"),_=g("./compressedObject"),v=g("./stream/GenericWorker");o.prototype={internalStream:function(d){var i=null,f="string";try{if(!d)throw new Error("No output type specified.");var l=(f=d.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),i=this._decompressWorker();var p=!this._dataBinary;p&&!l&&(i=i.pipe(new s.Utf8EncodeWorker)),!p&&l&&(i=i.pipe(new s.Utf8DecodeWorker))}catch(b){(i=new v("error")).error(b)}return new r(i,f,"")},async:function(d,i){return this.internalStream(d).accumulate(i)},nodeStream:function(d,i){return this.internalStream(d||"nodebuffer").toNodejsStream(i)},_compressWorker:function(d,i){if(this._data instanceof _&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new s.Utf8EncodeWorker)),_.createWorkerFrom(f,d,i)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof v?this._data:new n(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<m.length;a++)o.prototype[m[a]]=y;T.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(g,T,u){(function(o){"use strict";var r,n,s=o.MutationObserver||o.WebKitMutationObserver;if(s){var _=0,v=new s(d),m=o.document.createTextNode("");v.observe(m,{characterData:!0}),r=function(){m.data=_=++_%2}}else if(o.setImmediate||o.MessageChannel===void 0)r="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var i=o.document.createElement("script");i.onreadystatechange=function(){d(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},o.document.documentElement.appendChild(i)}:function(){setTimeout(d,0)};else{var y=new o.MessageChannel;y.port1.onmessage=d,r=function(){y.port2.postMessage(0)}}var a=[];function d(){var i,f;n=!0;for(var l=a.length;l;){for(f=a,a=[],i=-1;++i<l;)f[i]();l=a.length}n=!1}T.exports=function(i){a.push(i)!==1||n||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(g,T,u){"use strict";var o=g("immediate");function r(){}var n={},s=["REJECTED"],_=["FULFILLED"],v=["PENDING"];function m(l){if(typeof l!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,l!==r&&i(this,l)}function y(l,p,b){this.promise=l,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function a(l,p,b){o(function(){var C;try{C=p(b)}catch(x){return n.reject(l,x)}C===l?n.reject(l,new TypeError("Cannot resolve promise with itself")):n.resolve(l,C)})}function d(l){var p=l&&l.then;if(l&&(typeof l=="object"||typeof l=="function")&&typeof p=="function")return function(){p.apply(l,arguments)}}function i(l,p){var b=!1;function C(I){b||(b=!0,n.reject(l,I))}function x(I){b||(b=!0,n.resolve(l,I))}var B=f(function(){p(x,C)});B.status==="error"&&C(B.value)}function f(l,p){var b={};try{b.value=l(p),b.status="success"}catch(C){b.status="error",b.value=C}return b}(T.exports=m).prototype.finally=function(l){if(typeof l!="function")return this;var p=this.constructor;return this.then(function(b){return p.resolve(l()).then(function(){return b})},function(b){return p.resolve(l()).then(function(){throw b})})},m.prototype.catch=function(l){return this.then(null,l)},m.prototype.then=function(l,p){if(typeof l!="function"&&this.state===_||typeof p!="function"&&this.state===s)return this;var b=new this.constructor(r);return this.state!==v?a(b,this.state===_?l:p,this.outcome):this.queue.push(new y(b,l,p)),b},y.prototype.callFulfilled=function(l){n.resolve(this.promise,l)},y.prototype.otherCallFulfilled=function(l){a(this.promise,this.onFulfilled,l)},y.prototype.callRejected=function(l){n.reject(this.promise,l)},y.prototype.otherCallRejected=function(l){a(this.promise,this.onRejected,l)},n.resolve=function(l,p){var b=f(d,p);if(b.status==="error")return n.reject(l,b.value);var C=b.value;if(C)i(l,C);else{l.state=_,l.outcome=p;for(var x=-1,B=l.queue.length;++x<B;)l.queue[x].callFulfilled(p)}return l},n.reject=function(l,p){l.state=s,l.outcome=p;for(var b=-1,C=l.queue.length;++b<C;)l.queue[b].callRejected(p);return l},m.resolve=function(l){return l instanceof this?l:n.resolve(new this(r),l)},m.reject=function(l){var p=new this(r);return n.reject(p,l)},m.all=function(l){var p=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=l.length,C=!1;if(!b)return this.resolve([]);for(var x=new Array(b),B=0,I=-1,L=new this(r);++I<b;)A(l[I],I);return L;function A(Z,X){p.resolve(Z).then(function(w){x[X]=w,++B!==b||C||(C=!0,n.resolve(L,x))},function(w){C||(C=!0,n.reject(L,w))})}},m.race=function(l){var p=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=l.length,C=!1;if(!b)return this.resolve([]);for(var x=-1,B=new this(r);++x<b;)I=l[x],p.resolve(I).then(function(L){C||(C=!0,n.resolve(B,L))},function(L){C||(C=!0,n.reject(B,L))});var I;return B}},{immediate:36}],38:[function(g,T,u){"use strict";var o={};(0,g("./lib/utils/common").assign)(o,g("./lib/deflate"),g("./lib/inflate"),g("./lib/zlib/constants")),T.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(g,T,u){"use strict";var o=g("./zlib/deflate"),r=g("./utils/common"),n=g("./utils/strings"),s=g("./zlib/messages"),_=g("./zlib/zstream"),v=Object.prototype.toString,m=0,y=-1,a=0,d=8;function i(l){if(!(this instanceof i))return new i(l);this.options=r.assign({level:y,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},l||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var b=o.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(b!==m)throw new Error(s[b]);if(p.header&&o.deflateSetHeader(this.strm,p.header),p.dictionary){var C;if(C=typeof p.dictionary=="string"?n.string2buf(p.dictionary):v.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(b=o.deflateSetDictionary(this.strm,C))!==m)throw new Error(s[b]);this._dict_set=!0}}function f(l,p){var b=new i(p);if(b.push(l,!0),b.err)throw b.msg||s[b.err];return b.result}i.prototype.push=function(l,p){var b,C,x=this.strm,B=this.options.chunkSize;if(this.ended)return!1;C=p===~~p?p:p===!0?4:0,typeof l=="string"?x.input=n.string2buf(l):v.call(l)==="[object ArrayBuffer]"?x.input=new Uint8Array(l):x.input=l,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new r.Buf8(B),x.next_out=0,x.avail_out=B),(b=o.deflate(x,C))!==1&&b!==m)return this.onEnd(b),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(r.shrinkBuf(x.output,x.next_out))):this.onData(r.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&b!==1);return C===4?(b=o.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===m):C!==2||(this.onEnd(m),!(x.avail_out=0))},i.prototype.onData=function(l){this.chunks.push(l)},i.prototype.onEnd=function(l){l===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},u.Deflate=i,u.deflate=f,u.deflateRaw=function(l,p){return(p=p||{}).raw=!0,f(l,p)},u.gzip=function(l,p){return(p=p||{}).gzip=!0,f(l,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(g,T,u){"use strict";var o=g("./zlib/inflate"),r=g("./utils/common"),n=g("./utils/strings"),s=g("./zlib/constants"),_=g("./zlib/messages"),v=g("./zlib/zstream"),m=g("./zlib/gzheader"),y=Object.prototype.toString;function a(i){if(!(this instanceof a))return new a(i);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},i||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||i&&i.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var l=o.inflateInit2(this.strm,f.windowBits);if(l!==s.Z_OK)throw new Error(_[l]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function d(i,f){var l=new a(f);if(l.push(i,!0),l.err)throw l.msg||_[l.err];return l.result}a.prototype.push=function(i,f){var l,p,b,C,x,B,I=this.strm,L=this.options.chunkSize,A=this.options.dictionary,Z=!1;if(this.ended)return!1;p=f===~~f?f:f===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof i=="string"?I.input=n.binstring2buf(i):y.call(i)==="[object ArrayBuffer]"?I.input=new Uint8Array(i):I.input=i,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new r.Buf8(L),I.next_out=0,I.avail_out=L),(l=o.inflate(I,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&A&&(B=typeof A=="string"?n.string2buf(A):y.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,l=o.inflateSetDictionary(this.strm,B)),l===s.Z_BUF_ERROR&&Z===!0&&(l=s.Z_OK,Z=!1),l!==s.Z_STREAM_END&&l!==s.Z_OK)return this.onEnd(l),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&l!==s.Z_STREAM_END&&(I.avail_in!==0||p!==s.Z_FINISH&&p!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=n.utf8border(I.output,I.next_out),C=I.next_out-b,x=n.buf2string(I.output,b),I.next_out=C,I.avail_out=L-C,C&&r.arraySet(I.output,I.output,b,C,0),this.onData(x)):this.onData(r.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(Z=!0)}while((0<I.avail_in||I.avail_out===0)&&l!==s.Z_STREAM_END);return l===s.Z_STREAM_END&&(p=s.Z_FINISH),p===s.Z_FINISH?(l=o.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===s.Z_OK):p!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(I.avail_out=0))},a.prototype.onData=function(i){this.chunks.push(i)},a.prototype.onEnd=function(i){i===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},u.Inflate=a,u.inflate=d,u.inflateRaw=function(i,f){return(f=f||{}).raw=!0,d(i,f)},u.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(g,T,u){"use strict";var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(s){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var v=_.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var m in v)v.hasOwnProperty(m)&&(s[m]=v[m])}}return s},u.shrinkBuf=function(s,_){return s.length===_?s:s.subarray?s.subarray(0,_):(s.length=_,s)};var r={arraySet:function(s,_,v,m,y){if(_.subarray&&s.subarray)s.set(_.subarray(v,v+m),y);else for(var a=0;a<m;a++)s[y+a]=_[v+a]},flattenChunks:function(s){var _,v,m,y,a,d;for(_=m=0,v=s.length;_<v;_++)m+=s[_].length;for(d=new Uint8Array(m),_=y=0,v=s.length;_<v;_++)a=s[_],d.set(a,y),y+=a.length;return d}},n={arraySet:function(s,_,v,m,y){for(var a=0;a<m;a++)s[y+a]=_[v+a]},flattenChunks:function(s){return[].concat.apply([],s)}};u.setTyped=function(s){s?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,r)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,n))},u.setTyped(o)},{}],42:[function(g,T,u){"use strict";var o=g("./common"),r=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var s=new o.Buf8(256),_=0;_<256;_++)s[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function v(m,y){if(y<65537&&(m.subarray&&n||!m.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(m,y));for(var a="",d=0;d<y;d++)a+=String.fromCharCode(m[d]);return a}s[254]=s[254]=1,u.string2buf=function(m){var y,a,d,i,f,l=m.length,p=0;for(i=0;i<l;i++)(64512&(a=m.charCodeAt(i)))==55296&&i+1<l&&(64512&(d=m.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(d-56320),i++),p+=a<128?1:a<2048?2:a<65536?3:4;for(y=new o.Buf8(p),i=f=0;f<p;i++)(64512&(a=m.charCodeAt(i)))==55296&&i+1<l&&(64512&(d=m.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(d-56320),i++),a<128?y[f++]=a:(a<2048?y[f++]=192|a>>>6:(a<65536?y[f++]=224|a>>>12:(y[f++]=240|a>>>18,y[f++]=128|a>>>12&63),y[f++]=128|a>>>6&63),y[f++]=128|63&a);return y},u.buf2binstring=function(m){return v(m,m.length)},u.binstring2buf=function(m){for(var y=new o.Buf8(m.length),a=0,d=y.length;a<d;a++)y[a]=m.charCodeAt(a);return y},u.buf2string=function(m,y){var a,d,i,f,l=y||m.length,p=new Array(2*l);for(a=d=0;a<l;)if((i=m[a++])<128)p[d++]=i;else if(4<(f=s[i]))p[d++]=65533,a+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&a<l;)i=i<<6|63&m[a++],f--;1<f?p[d++]=65533:i<65536?p[d++]=i:(i-=65536,p[d++]=55296|i>>10&1023,p[d++]=56320|1023&i)}return v(p,d)},u.utf8border=function(m,y){var a;for((y=y||m.length)>m.length&&(y=m.length),a=y-1;0<=a&&(192&m[a])==128;)a--;return a<0||a===0?y:a+s[m[a]]>y?a:y}},{"./common":41}],43:[function(g,T,u){"use strict";T.exports=function(o,r,n,s){for(var _=65535&o|0,v=o>>>16&65535|0,m=0;n!==0;){for(n-=m=2e3<n?2e3:n;v=v+(_=_+r[s++]|0)|0,--m;);_%=65521,v%=65521}return _|v<<16|0}},{}],44:[function(g,T,u){"use strict";T.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(g,T,u){"use strict";var o=(function(){for(var r,n=[],s=0;s<256;s++){r=s;for(var _=0;_<8;_++)r=1&r?3988292384^r>>>1:r>>>1;n[s]=r}return n})();T.exports=function(r,n,s,_){var v=o,m=_+s;r^=-1;for(var y=_;y<m;y++)r=r>>>8^v[255&(r^n[y])];return-1^r}},{}],46:[function(g,T,u){"use strict";var o,r=g("../utils/common"),n=g("./trees"),s=g("./adler32"),_=g("./crc32"),v=g("./messages"),m=0,y=4,a=0,d=-2,i=-1,f=4,l=2,p=8,b=9,C=286,x=30,B=19,I=2*C+1,L=15,A=3,Z=258,X=Z+A+1,w=42,z=113,e=1,P=2,Q=3,R=4;function q(t,O){return t.msg=v[O],O}function N(t){return(t<<1)-(4<t?9:0)}function J(t){for(var O=t.length;0<=--O;)t[O]=0}function E(t){var O=t.state,F=O.pending;F>t.avail_out&&(F=t.avail_out),F!==0&&(r.arraySet(t.output,O.pending_buf,O.pending_out,F,t.next_out),t.next_out+=F,O.pending_out+=F,t.total_out+=F,t.avail_out-=F,O.pending-=F,O.pending===0&&(O.pending_out=0))}function S(t,O){n._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,O),t.block_start=t.strstart,E(t.strm)}function Y(t,O){t.pending_buf[t.pending++]=O}function K(t,O){t.pending_buf[t.pending++]=O>>>8&255,t.pending_buf[t.pending++]=255&O}function V(t,O){var F,h,c=t.max_chain_length,k=t.strstart,M=t.prev_length,D=t.nice_match,U=t.strstart>t.w_size-X?t.strstart-(t.w_size-X):0,j=t.window,G=t.w_mask,W=t.prev,H=t.strstart+Z,it=j[k+M-1],tt=j[k+M];t.prev_length>=t.good_match&&(c>>=2),D>t.lookahead&&(D=t.lookahead);do if(j[(F=O)+M]===tt&&j[F+M-1]===it&&j[F]===j[k]&&j[++F]===j[k+1]){k+=2,F++;do;while(j[++k]===j[++F]&&j[++k]===j[++F]&&j[++k]===j[++F]&&j[++k]===j[++F]&&j[++k]===j[++F]&&j[++k]===j[++F]&&j[++k]===j[++F]&&j[++k]===j[++F]&&k<H);if(h=Z-(H-k),k=H-Z,M<h){if(t.match_start=O,D<=(M=h))break;it=j[k+M-1],tt=j[k+M]}}while((O=W[O&G])>U&&--c!=0);return M<=t.lookahead?M:t.lookahead}function st(t){var O,F,h,c,k,M,D,U,j,G,W=t.w_size;do{if(c=t.window_size-t.lookahead-t.strstart,t.strstart>=W+(W-X)){for(r.arraySet(t.window,t.window,W,W,0),t.match_start-=W,t.strstart-=W,t.block_start-=W,O=F=t.hash_size;h=t.head[--O],t.head[O]=W<=h?h-W:0,--F;);for(O=F=W;h=t.prev[--O],t.prev[O]=W<=h?h-W:0,--F;);c+=W}if(t.strm.avail_in===0)break;if(M=t.strm,D=t.window,U=t.strstart+t.lookahead,j=c,G=void 0,G=M.avail_in,j<G&&(G=j),F=G===0?0:(M.avail_in-=G,r.arraySet(D,M.input,M.next_in,G,U),M.state.wrap===1?M.adler=s(M.adler,D,G,U):M.state.wrap===2&&(M.adler=_(M.adler,D,G,U)),M.next_in+=G,M.total_in+=G,G),t.lookahead+=F,t.lookahead+t.insert>=A)for(k=t.strstart-t.insert,t.ins_h=t.window[k],t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+A-1])&t.hash_mask,t.prev[k&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=k,k++,t.insert--,!(t.lookahead+t.insert<A)););}while(t.lookahead<X&&t.strm.avail_in!==0)}function ht(t,O){for(var F,h;;){if(t.lookahead<X){if(st(t),t.lookahead<X&&O===m)return e;if(t.lookahead===0)break}if(F=0,t.lookahead>=A&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+A-1])&t.hash_mask,F=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),F!==0&&t.strstart-F<=t.w_size-X&&(t.match_length=V(t,F)),t.match_length>=A)if(h=n._tr_tally(t,t.strstart-t.match_start,t.match_length-A),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=A){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+A-1])&t.hash_mask,F=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else h=n._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(h&&(S(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<A-1?t.strstart:A-1,O===y?(S(t,!0),t.strm.avail_out===0?Q:R):t.last_lit&&(S(t,!1),t.strm.avail_out===0)?e:P}function $(t,O){for(var F,h,c;;){if(t.lookahead<X){if(st(t),t.lookahead<X&&O===m)return e;if(t.lookahead===0)break}if(F=0,t.lookahead>=A&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+A-1])&t.hash_mask,F=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=A-1,F!==0&&t.prev_length<t.max_lazy_match&&t.strstart-F<=t.w_size-X&&(t.match_length=V(t,F),t.match_length<=5&&(t.strategy===1||t.match_length===A&&4096<t.strstart-t.match_start)&&(t.match_length=A-1)),t.prev_length>=A&&t.match_length<=t.prev_length){for(c=t.strstart+t.lookahead-A,h=n._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-A),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=c&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+A-1])&t.hash_mask,F=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=A-1,t.strstart++,h&&(S(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((h=n._tr_tally(t,0,t.window[t.strstart-1]))&&S(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(h=n._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<A-1?t.strstart:A-1,O===y?(S(t,!0),t.strm.avail_out===0?Q:R):t.last_lit&&(S(t,!1),t.strm.avail_out===0)?e:P}function et(t,O,F,h,c){this.good_length=t,this.max_lazy=O,this.nice_length=F,this.max_chain=h,this.func=c}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*I),this.dyn_dtree=new r.Buf16(2*(2*x+1)),this.bl_tree=new r.Buf16(2*(2*B+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(L+1),this.heap=new r.Buf16(2*C+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*C+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(t){var O;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=l,(O=t.state).pending=0,O.pending_out=0,O.wrap<0&&(O.wrap=-O.wrap),O.status=O.wrap?w:z,t.adler=O.wrap===2?0:1,O.last_flush=m,n._tr_init(O),a):q(t,d)}function gt(t){var O=ot(t);return O===a&&(function(F){F.window_size=2*F.w_size,J(F.head),F.max_lazy_match=o[F.level].max_lazy,F.good_match=o[F.level].good_length,F.nice_match=o[F.level].nice_length,F.max_chain_length=o[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=A-1,F.match_available=0,F.ins_h=0})(t.state),O}function mt(t,O,F,h,c,k){if(!t)return d;var M=1;if(O===i&&(O=6),h<0?(M=0,h=-h):15<h&&(M=2,h-=16),c<1||b<c||F!==p||h<8||15<h||O<0||9<O||k<0||f<k)return q(t,d);h===8&&(h=9);var D=new ft;return(t.state=D).strm=t,D.wrap=M,D.gzhead=null,D.w_bits=h,D.w_size=1<<D.w_bits,D.w_mask=D.w_size-1,D.hash_bits=c+7,D.hash_size=1<<D.hash_bits,D.hash_mask=D.hash_size-1,D.hash_shift=~~((D.hash_bits+A-1)/A),D.window=new r.Buf8(2*D.w_size),D.head=new r.Buf16(D.hash_size),D.prev=new r.Buf16(D.w_size),D.lit_bufsize=1<<c+6,D.pending_buf_size=4*D.lit_bufsize,D.pending_buf=new r.Buf8(D.pending_buf_size),D.d_buf=1*D.lit_bufsize,D.l_buf=3*D.lit_bufsize,D.level=O,D.strategy=k,D.method=F,gt(t)}o=[new et(0,0,0,0,function(t,O){var F=65535;for(F>t.pending_buf_size-5&&(F=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),t.lookahead===0&&O===m)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var h=t.block_start+F;if((t.strstart===0||t.strstart>=h)&&(t.lookahead=t.strstart-h,t.strstart=h,S(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-X&&(S(t,!1),t.strm.avail_out===0))return e}return t.insert=0,O===y?(S(t,!0),t.strm.avail_out===0?Q:R):(t.strstart>t.block_start&&(S(t,!1),t.strm.avail_out),e)}),new et(4,4,8,4,ht),new et(4,5,16,8,ht),new et(4,6,32,32,ht),new et(4,4,16,16,$),new et(8,16,32,32,$),new et(8,16,128,128,$),new et(8,32,128,256,$),new et(32,128,258,1024,$),new et(32,258,258,4096,$)],u.deflateInit=function(t,O){return mt(t,O,p,15,8,0)},u.deflateInit2=mt,u.deflateReset=gt,u.deflateResetKeep=ot,u.deflateSetHeader=function(t,O){return t&&t.state?t.state.wrap!==2?d:(t.state.gzhead=O,a):d},u.deflate=function(t,O){var F,h,c,k;if(!t||!t.state||5<O||O<0)return t?q(t,d):d;if(h=t.state,!t.output||!t.input&&t.avail_in!==0||h.status===666&&O!==y)return q(t,t.avail_out===0?-5:d);if(h.strm=t,F=h.last_flush,h.last_flush=O,h.status===w)if(h.wrap===2)t.adler=0,Y(h,31),Y(h,139),Y(h,8),h.gzhead?(Y(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),Y(h,255&h.gzhead.time),Y(h,h.gzhead.time>>8&255),Y(h,h.gzhead.time>>16&255),Y(h,h.gzhead.time>>24&255),Y(h,h.level===9?2:2<=h.strategy||h.level<2?4:0),Y(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(Y(h,255&h.gzhead.extra.length),Y(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=_(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(Y(h,0),Y(h,0),Y(h,0),Y(h,0),Y(h,0),Y(h,h.level===9?2:2<=h.strategy||h.level<2?4:0),Y(h,3),h.status=z);else{var M=p+(h.w_bits-8<<4)<<8;M|=(2<=h.strategy||h.level<2?0:h.level<6?1:h.level===6?2:3)<<6,h.strstart!==0&&(M|=32),M+=31-M%31,h.status=z,K(h,M),h.strstart!==0&&(K(h,t.adler>>>16),K(h,65535&t.adler)),t.adler=1}if(h.status===69)if(h.gzhead.extra){for(c=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>c&&(t.adler=_(t.adler,h.pending_buf,h.pending-c,c)),E(t),c=h.pending,h.pending!==h.pending_buf_size));)Y(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>c&&(t.adler=_(t.adler,h.pending_buf,h.pending-c,c)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(h.status===73)if(h.gzhead.name){c=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>c&&(t.adler=_(t.adler,h.pending_buf,h.pending-c,c)),E(t),c=h.pending,h.pending===h.pending_buf_size)){k=1;break}k=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,Y(h,k)}while(k!==0);h.gzhead.hcrc&&h.pending>c&&(t.adler=_(t.adler,h.pending_buf,h.pending-c,c)),k===0&&(h.gzindex=0,h.status=91)}else h.status=91;if(h.status===91)if(h.gzhead.comment){c=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>c&&(t.adler=_(t.adler,h.pending_buf,h.pending-c,c)),E(t),c=h.pending,h.pending===h.pending_buf_size)){k=1;break}k=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,Y(h,k)}while(k!==0);h.gzhead.hcrc&&h.pending>c&&(t.adler=_(t.adler,h.pending_buf,h.pending-c,c)),k===0&&(h.status=103)}else h.status=103;if(h.status===103&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&E(t),h.pending+2<=h.pending_buf_size&&(Y(h,255&t.adler),Y(h,t.adler>>8&255),t.adler=0,h.status=z)):h.status=z),h.pending!==0){if(E(t),t.avail_out===0)return h.last_flush=-1,a}else if(t.avail_in===0&&N(O)<=N(F)&&O!==y)return q(t,-5);if(h.status===666&&t.avail_in!==0)return q(t,-5);if(t.avail_in!==0||h.lookahead!==0||O!==m&&h.status!==666){var D=h.strategy===2?(function(U,j){for(var G;;){if(U.lookahead===0&&(st(U),U.lookahead===0)){if(j===m)return e;break}if(U.match_length=0,G=n._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++,G&&(S(U,!1),U.strm.avail_out===0))return e}return U.insert=0,j===y?(S(U,!0),U.strm.avail_out===0?Q:R):U.last_lit&&(S(U,!1),U.strm.avail_out===0)?e:P})(h,O):h.strategy===3?(function(U,j){for(var G,W,H,it,tt=U.window;;){if(U.lookahead<=Z){if(st(U),U.lookahead<=Z&&j===m)return e;if(U.lookahead===0)break}if(U.match_length=0,U.lookahead>=A&&0<U.strstart&&(W=tt[H=U.strstart-1])===tt[++H]&&W===tt[++H]&&W===tt[++H]){it=U.strstart+Z;do;while(W===tt[++H]&&W===tt[++H]&&W===tt[++H]&&W===tt[++H]&&W===tt[++H]&&W===tt[++H]&&W===tt[++H]&&W===tt[++H]&&H<it);U.match_length=Z-(it-H),U.match_length>U.lookahead&&(U.match_length=U.lookahead)}if(U.match_length>=A?(G=n._tr_tally(U,1,U.match_length-A),U.lookahead-=U.match_length,U.strstart+=U.match_length,U.match_length=0):(G=n._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++),G&&(S(U,!1),U.strm.avail_out===0))return e}return U.insert=0,j===y?(S(U,!0),U.strm.avail_out===0?Q:R):U.last_lit&&(S(U,!1),U.strm.avail_out===0)?e:P})(h,O):o[h.level].func(h,O);if(D!==Q&&D!==R||(h.status=666),D===e||D===Q)return t.avail_out===0&&(h.last_flush=-1),a;if(D===P&&(O===1?n._tr_align(h):O!==5&&(n._tr_stored_block(h,0,0,!1),O===3&&(J(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),E(t),t.avail_out===0))return h.last_flush=-1,a}return O!==y?a:h.wrap<=0?1:(h.wrap===2?(Y(h,255&t.adler),Y(h,t.adler>>8&255),Y(h,t.adler>>16&255),Y(h,t.adler>>24&255),Y(h,255&t.total_in),Y(h,t.total_in>>8&255),Y(h,t.total_in>>16&255),Y(h,t.total_in>>24&255)):(K(h,t.adler>>>16),K(h,65535&t.adler)),E(t),0<h.wrap&&(h.wrap=-h.wrap),h.pending!==0?a:1)},u.deflateEnd=function(t){var O;return t&&t.state?(O=t.state.status)!==w&&O!==69&&O!==73&&O!==91&&O!==103&&O!==z&&O!==666?q(t,d):(t.state=null,O===z?q(t,-3):a):d},u.deflateSetDictionary=function(t,O){var F,h,c,k,M,D,U,j,G=O.length;if(!t||!t.state||(k=(F=t.state).wrap)===2||k===1&&F.status!==w||F.lookahead)return d;for(k===1&&(t.adler=s(t.adler,O,G,0)),F.wrap=0,G>=F.w_size&&(k===0&&(J(F.head),F.strstart=0,F.block_start=0,F.insert=0),j=new r.Buf8(F.w_size),r.arraySet(j,O,G-F.w_size,F.w_size,0),O=j,G=F.w_size),M=t.avail_in,D=t.next_in,U=t.input,t.avail_in=G,t.next_in=0,t.input=O,st(F);F.lookahead>=A;){for(h=F.strstart,c=F.lookahead-(A-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[h+A-1])&F.hash_mask,F.prev[h&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=h,h++,--c;);F.strstart=h,F.lookahead=A-1,st(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=A-1,F.match_available=0,t.next_in=D,t.input=U,t.avail_in=M,F.wrap=k,a},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(g,T,u){"use strict";T.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(g,T,u){"use strict";T.exports=function(o,r){var n,s,_,v,m,y,a,d,i,f,l,p,b,C,x,B,I,L,A,Z,X,w,z,e,P;n=o.state,s=o.next_in,e=o.input,_=s+(o.avail_in-5),v=o.next_out,P=o.output,m=v-(r-o.avail_out),y=v+(o.avail_out-257),a=n.dmax,d=n.wsize,i=n.whave,f=n.wnext,l=n.window,p=n.hold,b=n.bits,C=n.lencode,x=n.distcode,B=(1<<n.lenbits)-1,I=(1<<n.distbits)-1;t:do{b<15&&(p+=e[s++]<<b,b+=8,p+=e[s++]<<b,b+=8),L=C[p&B];e:for(;;){if(p>>>=A=L>>>24,b-=A,(A=L>>>16&255)===0)P[v++]=65535&L;else{if(!(16&A)){if((64&A)==0){L=C[(65535&L)+(p&(1<<A)-1)];continue e}if(32&A){n.mode=12;break t}o.msg="invalid literal/length code",n.mode=30;break t}Z=65535&L,(A&=15)&&(b<A&&(p+=e[s++]<<b,b+=8),Z+=p&(1<<A)-1,p>>>=A,b-=A),b<15&&(p+=e[s++]<<b,b+=8,p+=e[s++]<<b,b+=8),L=x[p&I];n:for(;;){if(p>>>=A=L>>>24,b-=A,!(16&(A=L>>>16&255))){if((64&A)==0){L=x[(65535&L)+(p&(1<<A)-1)];continue n}o.msg="invalid distance code",n.mode=30;break t}if(X=65535&L,b<(A&=15)&&(p+=e[s++]<<b,(b+=8)<A&&(p+=e[s++]<<b,b+=8)),a<(X+=p&(1<<A)-1)){o.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=A,b-=A,(A=v-m)<X){if(i<(A=X-A)&&n.sane){o.msg="invalid distance too far back",n.mode=30;break t}if(z=l,(w=0)===f){if(w+=d-A,A<Z){for(Z-=A;P[v++]=l[w++],--A;);w=v-X,z=P}}else if(f<A){if(w+=d+f-A,(A-=f)<Z){for(Z-=A;P[v++]=l[w++],--A;);if(w=0,f<Z){for(Z-=A=f;P[v++]=l[w++],--A;);w=v-X,z=P}}}else if(w+=f-A,A<Z){for(Z-=A;P[v++]=l[w++],--A;);w=v-X,z=P}for(;2<Z;)P[v++]=z[w++],P[v++]=z[w++],P[v++]=z[w++],Z-=3;Z&&(P[v++]=z[w++],1<Z&&(P[v++]=z[w++]))}else{for(w=v-X;P[v++]=P[w++],P[v++]=P[w++],P[v++]=P[w++],2<(Z-=3););Z&&(P[v++]=P[w++],1<Z&&(P[v++]=P[w++]))}break}}break}}while(s<_&&v<y);s-=Z=b>>3,p&=(1<<(b-=Z<<3))-1,o.next_in=s,o.next_out=v,o.avail_in=s<_?_-s+5:5-(s-_),o.avail_out=v<y?y-v+257:257-(v-y),n.hold=p,n.bits=b}},{}],49:[function(g,T,u){"use strict";var o=g("../utils/common"),r=g("./adler32"),n=g("./crc32"),s=g("./inffast"),_=g("./inftrees"),v=1,m=2,y=0,a=-2,d=1,i=852,f=592;function l(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(w){var z;return w&&w.state?(z=w.state,w.total_in=w.total_out=z.total=0,w.msg="",z.wrap&&(w.adler=1&z.wrap),z.mode=d,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new o.Buf32(i),z.distcode=z.distdyn=new o.Buf32(f),z.sane=1,z.back=-1,y):a}function C(w){var z;return w&&w.state?((z=w.state).wsize=0,z.whave=0,z.wnext=0,b(w)):a}function x(w,z){var e,P;return w&&w.state?(P=w.state,z<0?(e=0,z=-z):(e=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?a:(P.window!==null&&P.wbits!==z&&(P.window=null),P.wrap=e,P.wbits=z,C(w))):a}function B(w,z){var e,P;return w?(P=new p,(w.state=P).window=null,(e=x(w,z))!==y&&(w.state=null),e):a}var I,L,A=!0;function Z(w){if(A){var z;for(I=new o.Buf32(512),L=new o.Buf32(32),z=0;z<144;)w.lens[z++]=8;for(;z<256;)w.lens[z++]=9;for(;z<280;)w.lens[z++]=7;for(;z<288;)w.lens[z++]=8;for(_(v,w.lens,0,288,I,0,w.work,{bits:9}),z=0;z<32;)w.lens[z++]=5;_(m,w.lens,0,32,L,0,w.work,{bits:5}),A=!1}w.lencode=I,w.lenbits=9,w.distcode=L,w.distbits=5}function X(w,z,e,P){var Q,R=w.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new o.Buf8(R.wsize)),P>=R.wsize?(o.arraySet(R.window,z,e-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(P<(Q=R.wsize-R.wnext)&&(Q=P),o.arraySet(R.window,z,e-P,Q,R.wnext),(P-=Q)?(o.arraySet(R.window,z,e-P,P,0),R.wnext=P,R.whave=R.wsize):(R.wnext+=Q,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=Q))),0}u.inflateReset=C,u.inflateReset2=x,u.inflateResetKeep=b,u.inflateInit=function(w){return B(w,15)},u.inflateInit2=B,u.inflate=function(w,z){var e,P,Q,R,q,N,J,E,S,Y,K,V,st,ht,$,et,ft,ot,gt,mt,t,O,F,h,c=0,k=new o.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return a;(e=w.state).mode===12&&(e.mode=13),q=w.next_out,Q=w.output,J=w.avail_out,R=w.next_in,P=w.input,N=w.avail_in,E=e.hold,S=e.bits,Y=N,K=J,O=y;t:for(;;)switch(e.mode){case d:if(e.wrap===0){e.mode=13;break}for(;S<16;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(2&e.wrap&&E===35615){k[e.check=0]=255&E,k[1]=E>>>8&255,e.check=n(e.check,k,2,0),S=E=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&E)<<8)+(E>>8))%31){w.msg="incorrect header check",e.mode=30;break}if((15&E)!=8){w.msg="unknown compression method",e.mode=30;break}if(S-=4,t=8+(15&(E>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){w.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,w.adler=e.check=1,e.mode=512&E?10:12,S=E=0;break;case 2:for(;S<16;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(e.flags=E,(255&e.flags)!=8){w.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){w.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=E>>8&1),512&e.flags&&(k[0]=255&E,k[1]=E>>>8&255,e.check=n(e.check,k,2,0)),S=E=0,e.mode=3;case 3:for(;S<32;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}e.head&&(e.head.time=E),512&e.flags&&(k[0]=255&E,k[1]=E>>>8&255,k[2]=E>>>16&255,k[3]=E>>>24&255,e.check=n(e.check,k,4,0)),S=E=0,e.mode=4;case 4:for(;S<16;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}e.head&&(e.head.xflags=255&E,e.head.os=E>>8),512&e.flags&&(k[0]=255&E,k[1]=E>>>8&255,e.check=n(e.check,k,2,0)),S=E=0,e.mode=5;case 5:if(1024&e.flags){for(;S<16;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}e.length=E,e.head&&(e.head.extra_len=E),512&e.flags&&(k[0]=255&E,k[1]=E>>>8&255,e.check=n(e.check,k,2,0)),S=E=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(N<(V=e.length)&&(V=N),V&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),o.arraySet(e.head.extra,P,R,V,t)),512&e.flags&&(e.check=n(e.check,P,V,R)),N-=V,R+=V,e.length-=V),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(N===0)break t;for(V=0;t=P[R+V++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&V<N;);if(512&e.flags&&(e.check=n(e.check,P,V,R)),N-=V,R+=V,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(N===0)break t;for(V=0;t=P[R+V++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&V<N;);if(512&e.flags&&(e.check=n(e.check,P,V,R)),N-=V,R+=V,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;S<16;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(E!==(65535&e.check)){w.msg="header crc mismatch",e.mode=30;break}S=E=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),w.adler=e.check=0,e.mode=12;break;case 10:for(;S<32;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}w.adler=e.check=l(E),S=E=0,e.mode=11;case 11:if(e.havedict===0)return w.next_out=q,w.avail_out=J,w.next_in=R,w.avail_in=N,e.hold=E,e.bits=S,2;w.adler=e.check=1,e.mode=12;case 12:if(z===5||z===6)break t;case 13:if(e.last){E>>>=7&S,S-=7&S,e.mode=27;break}for(;S<3;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}switch(e.last=1&E,S-=1,3&(E>>>=1)){case 0:e.mode=14;break;case 1:if(Z(e),e.mode=20,z!==6)break;E>>>=2,S-=2;break t;case 2:e.mode=17;break;case 3:w.msg="invalid block type",e.mode=30}E>>>=2,S-=2;break;case 14:for(E>>>=7&S,S-=7&S;S<32;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if((65535&E)!=(E>>>16^65535)){w.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&E,S=E=0,e.mode=15,z===6)break t;case 15:e.mode=16;case 16:if(V=e.length){if(N<V&&(V=N),J<V&&(V=J),V===0)break t;o.arraySet(Q,P,R,V,q),N-=V,R+=V,J-=V,q+=V,e.length-=V;break}e.mode=12;break;case 17:for(;S<14;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(e.nlen=257+(31&E),E>>>=5,S-=5,e.ndist=1+(31&E),E>>>=5,S-=5,e.ncode=4+(15&E),E>>>=4,S-=4,286<e.nlen||30<e.ndist){w.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;S<3;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}e.lens[M[e.have++]]=7&E,E>>>=3,S-=3}for(;e.have<19;)e.lens[M[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},O=_(0,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,O){w.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;et=(c=e.lencode[E&(1<<e.lenbits)-1])>>>16&255,ft=65535&c,!(($=c>>>24)<=S);){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(ft<16)E>>>=$,S-=$,e.lens[e.have++]=ft;else{if(ft===16){for(h=$+2;S<h;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(E>>>=$,S-=$,e.have===0){w.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],V=3+(3&E),E>>>=2,S-=2}else if(ft===17){for(h=$+3;S<h;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}S-=$,t=0,V=3+(7&(E>>>=$)),E>>>=3,S-=3}else{for(h=$+7;S<h;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}S-=$,t=0,V=11+(127&(E>>>=$)),E>>>=7,S-=7}if(e.have+V>e.nlen+e.ndist){w.msg="invalid bit length repeat",e.mode=30;break}for(;V--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){w.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,F={bits:e.lenbits},O=_(v,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,O){w.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},O=_(m,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,O){w.msg="invalid distances set",e.mode=30;break}if(e.mode=20,z===6)break t;case 20:e.mode=21;case 21:if(6<=N&&258<=J){w.next_out=q,w.avail_out=J,w.next_in=R,w.avail_in=N,e.hold=E,e.bits=S,s(w,K),q=w.next_out,Q=w.output,J=w.avail_out,R=w.next_in,P=w.input,N=w.avail_in,E=e.hold,S=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;et=(c=e.lencode[E&(1<<e.lenbits)-1])>>>16&255,ft=65535&c,!(($=c>>>24)<=S);){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(et&&(240&et)==0){for(ot=$,gt=et,mt=ft;et=(c=e.lencode[mt+((E&(1<<ot+gt)-1)>>ot)])>>>16&255,ft=65535&c,!(ot+($=c>>>24)<=S);){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}E>>>=ot,S-=ot,e.back+=ot}if(E>>>=$,S-=$,e.back+=$,e.length=ft,et===0){e.mode=26;break}if(32&et){e.back=-1,e.mode=12;break}if(64&et){w.msg="invalid literal/length code",e.mode=30;break}e.extra=15&et,e.mode=22;case 22:if(e.extra){for(h=e.extra;S<h;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}e.length+=E&(1<<e.extra)-1,E>>>=e.extra,S-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;et=(c=e.distcode[E&(1<<e.distbits)-1])>>>16&255,ft=65535&c,!(($=c>>>24)<=S);){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if((240&et)==0){for(ot=$,gt=et,mt=ft;et=(c=e.distcode[mt+((E&(1<<ot+gt)-1)>>ot)])>>>16&255,ft=65535&c,!(ot+($=c>>>24)<=S);){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}E>>>=ot,S-=ot,e.back+=ot}if(E>>>=$,S-=$,e.back+=$,64&et){w.msg="invalid distance code",e.mode=30;break}e.offset=ft,e.extra=15&et,e.mode=24;case 24:if(e.extra){for(h=e.extra;S<h;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}e.offset+=E&(1<<e.extra)-1,E>>>=e.extra,S-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){w.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(J===0)break t;if(V=K-J,e.offset>V){if((V=e.offset-V)>e.whave&&e.sane){w.msg="invalid distance too far back",e.mode=30;break}st=V>e.wnext?(V-=e.wnext,e.wsize-V):e.wnext-V,V>e.length&&(V=e.length),ht=e.window}else ht=Q,st=q-e.offset,V=e.length;for(J<V&&(V=J),J-=V,e.length-=V;Q[q++]=ht[st++],--V;);e.length===0&&(e.mode=21);break;case 26:if(J===0)break t;Q[q++]=e.length,J--,e.mode=21;break;case 27:if(e.wrap){for(;S<32;){if(N===0)break t;N--,E|=P[R++]<<S,S+=8}if(K-=J,w.total_out+=K,e.total+=K,K&&(w.adler=e.check=e.flags?n(e.check,Q,K,q-K):r(e.check,Q,K,q-K)),K=J,(e.flags?E:l(E))!==e.check){w.msg="incorrect data check",e.mode=30;break}S=E=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;S<32;){if(N===0)break t;N--,E+=P[R++]<<S,S+=8}if(E!==(4294967295&e.total)){w.msg="incorrect length check",e.mode=30;break}S=E=0}e.mode=29;case 29:O=1;break t;case 30:O=-3;break t;case 31:return-4;case 32:default:return a}return w.next_out=q,w.avail_out=J,w.next_in=R,w.avail_in=N,e.hold=E,e.bits=S,(e.wsize||K!==w.avail_out&&e.mode<30&&(e.mode<27||z!==4))&&X(w,w.output,w.next_out,K-w.avail_out)?(e.mode=31,-4):(Y-=w.avail_in,K-=w.avail_out,w.total_in+=Y,w.total_out+=K,e.total+=K,e.wrap&&K&&(w.adler=e.check=e.flags?n(e.check,Q,K,w.next_out-K):r(e.check,Q,K,w.next_out-K)),w.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(Y==0&&K===0||z===4)&&O===y&&(O=-5),O)},u.inflateEnd=function(w){if(!w||!w.state)return a;var z=w.state;return z.window&&(z.window=null),w.state=null,y},u.inflateGetHeader=function(w,z){var e;return w&&w.state?(2&(e=w.state).wrap)==0?a:((e.head=z).done=!1,y):a},u.inflateSetDictionary=function(w,z){var e,P=z.length;return w&&w.state?(e=w.state).wrap!==0&&e.mode!==11?a:e.mode===11&&r(1,z,P,0)!==e.check?-3:X(w,z,P,P)?(e.mode=31,-4):(e.havedict=1,y):a},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(g,T,u){"use strict";var o=g("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];T.exports=function(v,m,y,a,d,i,f,l){var p,b,C,x,B,I,L,A,Z,X=l.bits,w=0,z=0,e=0,P=0,Q=0,R=0,q=0,N=0,J=0,E=0,S=null,Y=0,K=new o.Buf16(16),V=new o.Buf16(16),st=null,ht=0;for(w=0;w<=15;w++)K[w]=0;for(z=0;z<a;z++)K[m[y+z]]++;for(Q=X,P=15;1<=P&&K[P]===0;P--);if(P<Q&&(Q=P),P===0)return d[i++]=20971520,d[i++]=20971520,l.bits=1,0;for(e=1;e<P&&K[e]===0;e++);for(Q<e&&(Q=e),w=N=1;w<=15;w++)if(N<<=1,(N-=K[w])<0)return-1;if(0<N&&(v===0||P!==1))return-1;for(V[1]=0,w=1;w<15;w++)V[w+1]=V[w]+K[w];for(z=0;z<a;z++)m[y+z]!==0&&(f[V[m[y+z]]++]=z);if(I=v===0?(S=st=f,19):v===1?(S=r,Y-=257,st=n,ht-=257,256):(S=s,st=_,-1),w=e,B=i,q=z=E=0,C=-1,x=(J=1<<(R=Q))-1,v===1&&852<J||v===2&&592<J)return 1;for(;;){for(L=w-q,Z=f[z]<I?(A=0,f[z]):f[z]>I?(A=st[ht+f[z]],S[Y+f[z]]):(A=96,0),p=1<<w-q,e=b=1<<R;d[B+(E>>q)+(b-=p)]=L<<24|A<<16|Z|0,b!==0;);for(p=1<<w-1;E&p;)p>>=1;if(p!==0?(E&=p-1,E+=p):E=0,z++,--K[w]==0){if(w===P)break;w=m[y+f[z]]}if(Q<w&&(E&x)!==C){for(q===0&&(q=Q),B+=e,N=1<<(R=w-q);R+q<P&&!((N-=K[R+q])<=0);)R++,N<<=1;if(J+=1<<R,v===1&&852<J||v===2&&592<J)return 1;d[C=E&x]=Q<<24|R<<16|B-i|0}}return E!==0&&(d[B+E]=w-q<<24|64<<16|0),l.bits=Q,0}},{"../utils/common":41}],51:[function(g,T,u){"use strict";T.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(g,T,u){"use strict";var o=g("../utils/common"),r=0,n=1;function s(c){for(var k=c.length;0<=--k;)c[k]=0}var _=0,v=29,m=256,y=m+1+v,a=30,d=19,i=2*y+1,f=15,l=16,p=7,b=256,C=16,x=17,B=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(y+2));s(X);var w=new Array(2*a);s(w);var z=new Array(512);s(z);var e=new Array(256);s(e);var P=new Array(v);s(P);var Q,R,q,N=new Array(a);function J(c,k,M,D,U){this.static_tree=c,this.extra_bits=k,this.extra_base=M,this.elems=D,this.max_length=U,this.has_stree=c&&c.length}function E(c,k){this.dyn_tree=c,this.max_code=0,this.stat_desc=k}function S(c){return c<256?z[c]:z[256+(c>>>7)]}function Y(c,k){c.pending_buf[c.pending++]=255&k,c.pending_buf[c.pending++]=k>>>8&255}function K(c,k,M){c.bi_valid>l-M?(c.bi_buf|=k<<c.bi_valid&65535,Y(c,c.bi_buf),c.bi_buf=k>>l-c.bi_valid,c.bi_valid+=M-l):(c.bi_buf|=k<<c.bi_valid&65535,c.bi_valid+=M)}function V(c,k,M){K(c,M[2*k],M[2*k+1])}function st(c,k){for(var M=0;M|=1&c,c>>>=1,M<<=1,0<--k;);return M>>>1}function ht(c,k,M){var D,U,j=new Array(f+1),G=0;for(D=1;D<=f;D++)j[D]=G=G+M[D-1]<<1;for(U=0;U<=k;U++){var W=c[2*U+1];W!==0&&(c[2*U]=st(j[W]++,W))}}function $(c){var k;for(k=0;k<y;k++)c.dyn_ltree[2*k]=0;for(k=0;k<a;k++)c.dyn_dtree[2*k]=0;for(k=0;k<d;k++)c.bl_tree[2*k]=0;c.dyn_ltree[2*b]=1,c.opt_len=c.static_len=0,c.last_lit=c.matches=0}function et(c){8<c.bi_valid?Y(c,c.bi_buf):0<c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf),c.bi_buf=0,c.bi_valid=0}function ft(c,k,M,D){var U=2*k,j=2*M;return c[U]<c[j]||c[U]===c[j]&&D[k]<=D[M]}function ot(c,k,M){for(var D=c.heap[M],U=M<<1;U<=c.heap_len&&(U<c.heap_len&&ft(k,c.heap[U+1],c.heap[U],c.depth)&&U++,!ft(k,D,c.heap[U],c.depth));)c.heap[M]=c.heap[U],M=U,U<<=1;c.heap[M]=D}function gt(c,k,M){var D,U,j,G,W=0;if(c.last_lit!==0)for(;D=c.pending_buf[c.d_buf+2*W]<<8|c.pending_buf[c.d_buf+2*W+1],U=c.pending_buf[c.l_buf+W],W++,D===0?V(c,U,k):(V(c,(j=e[U])+m+1,k),(G=I[j])!==0&&K(c,U-=P[j],G),V(c,j=S(--D),M),(G=L[j])!==0&&K(c,D-=N[j],G)),W<c.last_lit;);V(c,b,k)}function mt(c,k){var M,D,U,j=k.dyn_tree,G=k.stat_desc.static_tree,W=k.stat_desc.has_stree,H=k.stat_desc.elems,it=-1;for(c.heap_len=0,c.heap_max=i,M=0;M<H;M++)j[2*M]!==0?(c.heap[++c.heap_len]=it=M,c.depth[M]=0):j[2*M+1]=0;for(;c.heap_len<2;)j[2*(U=c.heap[++c.heap_len]=it<2?++it:0)]=1,c.depth[U]=0,c.opt_len--,W&&(c.static_len-=G[2*U+1]);for(k.max_code=it,M=c.heap_len>>1;1<=M;M--)ot(c,j,M);for(U=H;M=c.heap[1],c.heap[1]=c.heap[c.heap_len--],ot(c,j,1),D=c.heap[1],c.heap[--c.heap_max]=M,c.heap[--c.heap_max]=D,j[2*U]=j[2*M]+j[2*D],c.depth[U]=(c.depth[M]>=c.depth[D]?c.depth[M]:c.depth[D])+1,j[2*M+1]=j[2*D+1]=U,c.heap[1]=U++,ot(c,j,1),2<=c.heap_len;);c.heap[--c.heap_max]=c.heap[1],(function(tt,pt){var xt,_t,Ct,lt,It,Bt,wt=pt.dyn_tree,Rt=pt.max_code,ae=pt.stat_desc.static_tree,se=pt.stat_desc.has_stree,oe=pt.stat_desc.extra_bits,Lt=pt.stat_desc.extra_base,Ut=pt.stat_desc.max_length,zt=0;for(lt=0;lt<=f;lt++)tt.bl_count[lt]=0;for(wt[2*tt.heap[tt.heap_max]+1]=0,xt=tt.heap_max+1;xt<i;xt++)Ut<(lt=wt[2*wt[2*(_t=tt.heap[xt])+1]+1]+1)&&(lt=Ut,zt++),wt[2*_t+1]=lt,Rt<_t||(tt.bl_count[lt]++,It=0,Lt<=_t&&(It=oe[_t-Lt]),Bt=wt[2*_t],tt.opt_len+=Bt*(lt+It),se&&(tt.static_len+=Bt*(ae[2*_t+1]+It)));if(zt!==0){do{for(lt=Ut-1;tt.bl_count[lt]===0;)lt--;tt.bl_count[lt]--,tt.bl_count[lt+1]+=2,tt.bl_count[Ut]--,zt-=2}while(0<zt);for(lt=Ut;lt!==0;lt--)for(_t=tt.bl_count[lt];_t!==0;)Rt<(Ct=tt.heap[--xt])||(wt[2*Ct+1]!==lt&&(tt.opt_len+=(lt-wt[2*Ct+1])*wt[2*Ct],wt[2*Ct+1]=lt),_t--)}})(c,k),ht(j,it,c.bl_count)}function t(c,k,M){var D,U,j=-1,G=k[1],W=0,H=7,it=4;for(G===0&&(H=138,it=3),k[2*(M+1)+1]=65535,D=0;D<=M;D++)U=G,G=k[2*(D+1)+1],++W<H&&U===G||(W<it?c.bl_tree[2*U]+=W:U!==0?(U!==j&&c.bl_tree[2*U]++,c.bl_tree[2*C]++):W<=10?c.bl_tree[2*x]++:c.bl_tree[2*B]++,j=U,it=(W=0)===G?(H=138,3):U===G?(H=6,3):(H=7,4))}function O(c,k,M){var D,U,j=-1,G=k[1],W=0,H=7,it=4;for(G===0&&(H=138,it=3),D=0;D<=M;D++)if(U=G,G=k[2*(D+1)+1],!(++W<H&&U===G)){if(W<it)for(;V(c,U,c.bl_tree),--W!=0;);else U!==0?(U!==j&&(V(c,U,c.bl_tree),W--),V(c,C,c.bl_tree),K(c,W-3,2)):W<=10?(V(c,x,c.bl_tree),K(c,W-3,3)):(V(c,B,c.bl_tree),K(c,W-11,7));j=U,it=(W=0)===G?(H=138,3):U===G?(H=6,3):(H=7,4)}}s(N);var F=!1;function h(c,k,M,D){K(c,(_<<1)+(D?1:0),3),(function(U,j,G,W){et(U),W&&(Y(U,G),Y(U,~G)),o.arraySet(U.pending_buf,U.window,j,G,U.pending),U.pending+=G})(c,k,M,!0)}u._tr_init=function(c){F||((function(){var k,M,D,U,j,G=new Array(f+1);for(U=D=0;U<v-1;U++)for(P[U]=D,k=0;k<1<<I[U];k++)e[D++]=U;for(e[D-1]=U,U=j=0;U<16;U++)for(N[U]=j,k=0;k<1<<L[U];k++)z[j++]=U;for(j>>=7;U<a;U++)for(N[U]=j<<7,k=0;k<1<<L[U]-7;k++)z[256+j++]=U;for(M=0;M<=f;M++)G[M]=0;for(k=0;k<=143;)X[2*k+1]=8,k++,G[8]++;for(;k<=255;)X[2*k+1]=9,k++,G[9]++;for(;k<=279;)X[2*k+1]=7,k++,G[7]++;for(;k<=287;)X[2*k+1]=8,k++,G[8]++;for(ht(X,y+1,G),k=0;k<a;k++)w[2*k+1]=5,w[2*k]=st(k,5);Q=new J(X,I,m+1,y,f),R=new J(w,L,0,a,f),q=new J(new Array(0),A,0,d,p)})(),F=!0),c.l_desc=new E(c.dyn_ltree,Q),c.d_desc=new E(c.dyn_dtree,R),c.bl_desc=new E(c.bl_tree,q),c.bi_buf=0,c.bi_valid=0,$(c)},u._tr_stored_block=h,u._tr_flush_block=function(c,k,M,D){var U,j,G=0;0<c.level?(c.strm.data_type===2&&(c.strm.data_type=(function(W){var H,it=4093624447;for(H=0;H<=31;H++,it>>>=1)if(1&it&&W.dyn_ltree[2*H]!==0)return r;if(W.dyn_ltree[18]!==0||W.dyn_ltree[20]!==0||W.dyn_ltree[26]!==0)return n;for(H=32;H<m;H++)if(W.dyn_ltree[2*H]!==0)return n;return r})(c)),mt(c,c.l_desc),mt(c,c.d_desc),G=(function(W){var H;for(t(W,W.dyn_ltree,W.l_desc.max_code),t(W,W.dyn_dtree,W.d_desc.max_code),mt(W,W.bl_desc),H=d-1;3<=H&&W.bl_tree[2*Z[H]+1]===0;H--);return W.opt_len+=3*(H+1)+5+5+4,H})(c),U=c.opt_len+3+7>>>3,(j=c.static_len+3+7>>>3)<=U&&(U=j)):U=j=M+5,M+4<=U&&k!==-1?h(c,k,M,D):c.strategy===4||j===U?(K(c,2+(D?1:0),3),gt(c,X,w)):(K(c,4+(D?1:0),3),(function(W,H,it,tt){var pt;for(K(W,H-257,5),K(W,it-1,5),K(W,tt-4,4),pt=0;pt<tt;pt++)K(W,W.bl_tree[2*Z[pt]+1],3);O(W,W.dyn_ltree,H-1),O(W,W.dyn_dtree,it-1)})(c,c.l_desc.max_code+1,c.d_desc.max_code+1,G+1),gt(c,c.dyn_ltree,c.dyn_dtree)),$(c),D&&et(c)},u._tr_tally=function(c,k,M){return c.pending_buf[c.d_buf+2*c.last_lit]=k>>>8&255,c.pending_buf[c.d_buf+2*c.last_lit+1]=255&k,c.pending_buf[c.l_buf+c.last_lit]=255&M,c.last_lit++,k===0?c.dyn_ltree[2*M]++:(c.matches++,k--,c.dyn_ltree[2*(e[M]+m+1)]++,c.dyn_dtree[2*S(k)]++),c.last_lit===c.lit_bufsize-1},u._tr_align=function(c){K(c,2,3),V(c,b,X),(function(k){k.bi_valid===16?(Y(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)})(c)}},{"../utils/common":41}],53:[function(g,T,u){"use strict";T.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(g,T,u){(function(o){(function(r,n){"use strict";if(!r.setImmediate){var s,_,v,m,y=1,a={},d=!1,i=r.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(r);f=f&&f.setTimeout?f:r,s={}.toString.call(r.process)==="[object process]"?function(C){process.nextTick(function(){p(C)})}:(function(){if(r.postMessage&&!r.importScripts){var C=!0,x=r.onmessage;return r.onmessage=function(){C=!1},r.postMessage("","*"),r.onmessage=x,C}})()?(m="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",b,!1):r.attachEvent("onmessage",b),function(C){r.postMessage(m+C,"*")}):r.MessageChannel?((v=new MessageChannel).port1.onmessage=function(C){p(C.data)},function(C){v.port2.postMessage(C)}):i&&"onreadystatechange"in i.createElement("script")?(_=i.documentElement,function(C){var x=i.createElement("script");x.onreadystatechange=function(){p(C),x.onreadystatechange=null,_.removeChild(x),x=null},_.appendChild(x)}):function(C){setTimeout(p,0,C)},f.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var x=new Array(arguments.length-1),B=0;B<x.length;B++)x[B]=arguments[B+1];var I={callback:C,args:x};return a[y]=I,s(y),y++},f.clearImmediate=l}function l(C){delete a[C]}function p(C){if(d)setTimeout(p,0,C);else{var x=a[C];if(x){d=!0;try{(function(B){var I=B.callback,L=B.args;switch(L.length){case 0:I();break;case 1:I(L[0]);break;case 2:I(L[0],L[1]);break;case 3:I(L[0],L[1],L[2]);break;default:I.apply(n,L)}})(x)}finally{l(C),d=!1}}}}function b(C){C.source===r&&typeof C.data=="string"&&C.data.indexOf(m)===0&&p(+C.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var ie=ce(re());function fe(g,T){g&1&&(nt(0,"div",23),at(1," \u23F3 Loading and parsing file... "),rt())}function he(g,T){if(g&1){let u=Pt();nt(0,"div",24)(1,"button",12),dt("click",function(){Et(u);let r=yt();return Ft(r.prevGame())}),at(2,"Prev Game"),rt(),nt(3,"span"),at(4),rt(),nt(5,"button",12),dt("click",function(){Et(u);let r=yt();return Ft(r.nextGame())}),at(6,"Next Game"),rt()()}if(g&2){let u=yt();ct(),ut("disabled",u.currentGameIndex===0),ct(3),Mt("Game ",u.currentGameIndex+1," of ",u.games.length),ct(),ut("disabled",u.currentGameIndex===u.games.length-1)}}function de(g,T){if(g&1){let u=Pt();nt(0,"div",25)(1,"label"),at(2,"Duration (min): "),nt(3,"input",26),kt("ngModelChange",function(r){Et(u);let n=yt();return bt(n.proportionalDuration,r)||(n.proportionalDuration=r),Ft(r)}),rt()()()}if(g&2){let u=yt();ct(3),vt("ngModel",u.proportionalDuration)}}function ue(g,T){if(g&1){let u=Pt();nt(0,"div",25)(1,"label"),at(2,"Time per move (sec): "),nt(3,"input",26),kt("ngModelChange",function(r){Et(u);let n=yt();return bt(n.fixedTime,r)||(n.fixedTime=r),Ft(r)}),rt()()()}if(g&2){let u=yt();ct(3),vt("ngModel",u.fixedTime)}}var xe=(()=>{class g{constructor(u){this.cdr=u,this.pgn="",this.currentFen="",this.fischerEvergreen=`[Event "Third Rosenwald Trophy"]
[Site "New York, NY USA"]
[Date "1956.10.17"]
[EventDate "1956.10.07"]
[Round "8"]
[Result "0-1"]
[White "Donald Byrne"]
[Black "Robert James Fischer"]
[ECO "D93"]
[WhiteElo "?"]
[BlackElo "?"]
[PlyCount "82"]

1. Nf3 Nf6 2. c4 g6 3. Nc3 Bg7 4. d4 O-O 5. Bf4 d5 6. Qb3 dxc4 7. Qxc4 c6 8. e4 Nbd7 9. Rd1 Nb6 10. Qc5 Bg4 11. Bg5 Na4 12. Qa3 Nxc3 13. bxc3 Nxe4 14. Bxe7 Qb6 15. Bc4 Nxc3 16. Bc5 Rfe8+ 17. Kf1 Be6 18. Bxb6 Bxc4+ 19. Kg1 Ne2+ 20. Kf1 Nxd4+ 21. Kg1 Ne2+ 22. Kf1 Nc3+ 23. Kg1 axb6 24. Qb4 Ra4 25. Qxb6 Nxd1 26. h3 Rxa2 27. Kh2 Nxf2 28. Re1 Rxe1 29. Qd8+ Bf8 30. Nxe1 Bd5 31. Nf3 Ne4 32. Qb8 b5 33. h4 h5 34. Ne5 Kg7 35. Kg1 Bc5+ 36. Kf1 Ng3+ 37. Ke1 Bb4+ 38. Kd1 Bb3+ 39. Kc1 Ne2+ 40. Kb1 Nc3+ 41. Kc1 Rc2# 0-1`,this.topceEvergreen=`[Event "Rated Blitz game"]
[Site "https://lichess.org/hvB20kxq"]
[Date "2018.05.19"]
[White "topce"]
[Black "donateIIo"]
[Result "1-0"]
[UTCDate "2018.05.19"]
[UTCTime "09:36:44"]
[WhiteElo "2342"]
[BlackElo "2406"]
[WhiteRatingDiff "+12"]
[BlackRatingDiff "-12"]
[BlackTitle "GM"]
[Variant "Standard"]
[TimeControl "180+0"]
[ECO "A00"]
[Opening "Anderssen Opening"]
[Termination "Normal"]

1. a3 { [%clk 0:03:00] } a6 { [%clk 0:03:00] } 2. b3 { [%clk 0:02:59] } h6 { [%clk 0:03:00] } 3. c3 { [%clk 0:02:59] } Nf6 { [%clk 0:02:57] } 4. d3 { [%clk 0:02:59] } d5 { [%clk 0:02:57] } 5. e3 { [%clk 0:02:59] } e5 { [%clk 0:02:56] } 6. f3 { [%clk 0:02:58] } c5 { [%clk 0:02:55] } 7. g3 { [%clk 0:02:58] } Nc6 { [%clk 0:02:55] } 8. h3 { [%clk 0:02:58] } Be7 { [%clk 0:02:54] } 9. Ra2 { [%clk 0:02:57] } O-O { [%clk 0:02:53] } 10. Rg2 { [%clk 0:02:55] } b5 { [%clk 0:02:52] } 11. g4 { [%clk 0:02:54] } e4 { [%clk 0:02:46] } 12. f4 { [%clk 0:02:49] } d4 { [%clk 0:02:42] } 13. g5 { [%clk 0:02:43] } hxg5 { [%clk 0:02:40] } 14. fxg5 { [%clk 0:02:42] } Nd5 { [%clk 0:02:39] } 15. dxe4 { [%clk 0:02:35] } Nxe3 { [%clk 0:02:36] } 16. Bxe3 { [%clk 0:02:34] } dxe3 { [%clk 0:02:36] } 17. Qxd8 { [%clk 0:02:33] } Rxd8 { [%clk 0:02:34] } 18. h4 { [%clk 0:02:25] } Be6 { [%clk 0:02:31] } 19. h5 { [%clk 0:02:19] } Bxb3 { [%clk 0:02:28] } 20. Be2 { [%clk 0:02:18] } Ne5 { [%clk 0:02:25] } 21. g6 { [%clk 0:02:16] } Nd3+ { [%clk 0:02:18] } 22. Bxd3 { [%clk 0:02:14] } Rxd3 { [%clk 0:02:18] } 23. h6 { [%clk 0:02:06] } Rd1+ { [%clk 0:02:07] } 24. Ke2 { [%clk 0:02:04] } Rxb1 { [%clk 0:02:07] } 25. gxf7+ { [%clk 0:01:59] } Kxf7 { [%clk 0:02:07] } 26. Rxg7+ { [%clk 0:01:53] } Ke6 { [%clk 0:02:06] } 27. h7 { [%clk 0:01:48] } Bc4+ { [%clk 0:01:36] } 28. Kxe3 { [%clk 0:01:46] } Rh8 { [%clk 0:01:07] } 29. Rh6+ { [%clk 0:01:34] } Bf6 { [%clk 0:00:59] } 30. Nf3 { [%clk 0:01:31] } Rf1 { [%clk 0:00:31] } 31. Rgg6 { [%clk 0:01:17] } Ke7 { [%clk 0:00:23] } 32. Rxf6 { [%clk 0:01:13] } Rxh7 { [%clk 0:00:22] } 33. Rxa6 { [%clk 0:01:05] } Rxh6 { [%clk 0:00:21] } 34. Rxh6 { [%clk 0:01:03] } Ra1 { [%clk 0:00:20] } 35. Ne5 { [%clk 0:01:01] } Rxa3 { [%clk 0:00:19] } 36. Kf4 { [%clk 0:01:00] } Rxc3 { [%clk 0:00:18] } 37. Kf5 { [%clk 0:00:58] } b4 { [%clk 0:00:17] } 38. Rh7+ { [%clk 0:00:58] } Kd6 { [%clk 0:00:16] } 39. Rd7# { [%clk 0:00:55] } 1-0`,this.isLoading=!1,this.games=[],this.currentGameIndex=0,this.moves=[],this.currentMoveIndex=-1,this.replayMode="fixed",this.proportionalDuration=1,this.fixedTime=1,this.replayTimeouts=[],this.chess=new At,this.currentFen=this.chess.fen()}ngAfterViewInit(){this.updateBoard()}updateBoard(){this.chessground&&this.chessground.runFunction.set(u=>ee(u,{fen:this.currentFen,viewOnly:!0}))}loadPgn(){try{this.chess.loadPgn(this.pgn);let u=this.chess.history({verbose:!0});this.chess.reset(),this.currentFen=this.chess.fen(),this.updateBoard(),console.log("PGN loaded successfully")}catch(u){console.error("Invalid PGN",u),alert("Invalid PGN")}}loadFischerEvergreen(){this.pgn=this.fischerEvergreen,this.loadPgnAndReset()}loadTopceEvergreen(){this.pgn=this.topceEvergreen,this.loadPgnAndReset()}processPgnContent(u,o){console.log("PGN content length:",u.length),console.log("First 500 chars:",u.substring(0,500)),this.pgn=u,console.log(`Loaded PGN from ${o}`),this.loadPgnAndReset(),this.isLoading=!1,this.cdr.detectChanges()}async onPgnZipSelected(u){let o=u.target;if(!o.files||o.files.length===0)return;let r=o.files[0];this.isLoading=!0;try{let n=await ie.loadAsync(r),s=Object.values(n.files).find(_=>_.name.endsWith(".pgn"));if(s){let _=await s.async("string");this.processPgnContent(_,r.name)}else this.isLoading=!1,alert("No PGN file found in the zip archive.")}catch(n){this.isLoading=!1,console.error("Error loading zip file:",n),alert("Error loading zip file. Please make sure it is a valid zip file.")}}onPgnFileSelected(u){let o=u.target;if(!o.files||o.files.length===0)return;let r=o.files[0];this.isLoading=!0;let n=new FileReader;n.onload=s=>{let _=s.target?.result;_?this.processPgnContent(_,r.name):(this.isLoading=!1,alert("Failed to read file content."))},n.onerror=s=>{this.isLoading=!1,console.error("Error reading file:",s),alert("Error reading file.")},n.readAsText(r)}splitPgn(u){let o=u.split(/\[Event "/g),r=[];for(let n=0;n<o.length;n++)o[n].trim().length!==0&&r.push('[Event "'+o[n]);return r}loadGame(u){if(u>=0&&u<this.games.length){this.currentGameIndex=u,this.pgn=this.games[u];try{let o=new At;o.loadPgn(this.pgn);let r=o.history();this.moves=r,this.chess.reset(),this.currentMoveIndex=-1,this.currentFen=this.chess.fen(),this.updateBoard(),this.stopReplay()}catch(o){console.error("Invalid PGN",o),alert("Invalid PGN")}}}nextGame(){this.currentGameIndex<this.games.length-1&&this.loadGame(this.currentGameIndex+1)}prevGame(){this.currentGameIndex>0&&this.loadGame(this.currentGameIndex-1)}reset(){this.chess.reset(),this.currentFen=this.chess.fen(),this.updateBoard()}loadPgnAndReset(){try{console.log("loadPgnAndReset called, pgn length:",this.pgn.length);let u=this.splitPgn(this.pgn);if(console.log("Number of games found:",u.length),u.length>0)console.log("Loading first game"),this.games=u,this.loadGame(0);else{console.log("No games found, trying fallback");let o=new At;o.loadPgn(this.pgn);let r=o.history();this.moves=r,this.chess.reset(),this.currentMoveIndex=-1,this.currentFen=this.chess.fen(),this.updateBoard()}}catch(u){console.error("Invalid PGN",u),alert("Invalid PGN")}}next(){this.currentMoveIndex<this.moves.length-1&&(this.currentMoveIndex++,this.chess.move(this.moves[this.currentMoveIndex]),this.currentFen=this.chess.fen(),this.updateBoard())}prev(){this.currentMoveIndex>=0&&(this.chess.undo(),this.currentMoveIndex--,this.currentFen=this.chess.fen(),this.updateBoard())}start(){this.chess.reset(),this.currentMoveIndex=-1,this.currentFen=this.chess.fen(),this.updateBoard()}end(){this.chess.reset();for(let u of this.moves)this.chess.move(u);this.currentMoveIndex=this.moves.length-1,this.currentFen=this.chess.fen(),this.updateBoard()}replayGame(){this.stopReplay();let u=new At;u.loadPgn(this.pgn);let o=u.getComments(),r=u.history({verbose:!0}),n=u.header();this.start();let s=[];if(this.replayMode==="fixed")for(let v=0;v<r.length;v++)s.push((v+1)*this.fixedTime);else{let v=0,m=0,y=180;if(n.TimeControl){let a=n.TimeControl.split("+");y=parseInt(a[0],10)}if(o.length===0){alert("No clock data found in PGN. Falling back to fixed time."),this.replayMode="fixed",this.replayGame();return}for(let a=0;a<o.length;a++){let d=o[a].comment,i=d.match(/%clk\s+(\d+):(\d+):(\d+)/)||d.match(/%clk\s+(\d+):(\d+)/);if(i){let f=0,l=0;i.length===4?(f=parseInt(i[2],10)+parseInt(i[1],10)*60,l=parseInt(i[3],10)):(f=parseInt(i[1],10),l=parseInt(i[2],10));let p=f*60+l,b=Math.max(0,y-p);a%2===0?m=b:v=b,s.push(v+m)}else s.push((s[s.length-1]||0)+1)}for(;s.length<r.length;)s.push((s[s.length-1]||0)+1)}let _=s[s.length-1]||1;for(let v=0;v<r.length;v++){let m=0;if(this.replayMode==="fixed")m=s[v]*1e3;else if(this.replayMode==="realtime")m=s[v]*1e3;else if(this.replayMode==="proportional"){let a=this.proportionalDuration*60;m=s[v]/_*a*1e3}let y=setTimeout(()=>{this.next()},m);this.replayTimeouts.push(y)}}stopReplay(){this.replayTimeouts.forEach(u=>clearTimeout(u)),this.replayTimeouts=[]}overrideLoadPgn(){this.loadPgnAndReset()}static{this.\u0275fac=function(o){return new(o||g)(Nt(Gt))}}static{this.\u0275cmp=jt({type:g,selectors:[["app-pgn-viewer"]],viewQuery:function(o,r){if(o&1&&Zt(Tt,5),o&2){let n;Vt(n=Kt())&&(r.chessground=n.first)}},decls:58,vars:16,consts:[[1,"container"],[1,"viewer-layout"],[1,"board-container"],[1,"controls-container"],[1,"buttons"],[3,"click"],[1,"zip-loader"],["type","file","accept",".zip",3,"change","disabled"],["type","file","accept",".pgn",3,"change","disabled"],["class","loading-indicator",4,"ngIf"],["class","game-navigation",4,"ngIf"],[1,"navigation"],[3,"click","disabled"],[1,"status"],[1,"replay-controls"],[1,"mode-selection"],["type","radio","name","mode","value","realtime",3,"ngModelChange","ngModel"],["type","radio","name","mode","value","proportional",3,"ngModelChange","ngModel"],["type","radio","name","mode","value","fixed",3,"ngModelChange","ngModel"],["class","option-input",4,"ngIf"],[1,"replay-buttons"],[1,"pgn-input"],["rows","10","placeholder","Paste PGN here",3,"ngModelChange","ngModel"],[1,"loading-indicator"],[1,"game-navigation"],[1,"option-input"],["type","number","step","0.1",3,"ngModelChange","ngModel"]],template:function(o,r){o&1&&(nt(0,"div",0)(1,"h2"),at(2,"PGN Viewer"),rt(),nt(3,"div",1)(4,"div",2),Wt(5,"ngx-chessground"),rt(),nt(6,"div",3)(7,"div",4)(8,"button",5),dt("click",function(){return r.loadFischerEvergreen()}),at(9,"Load Fischer Evergreen"),rt(),nt(10,"button",5),dt("click",function(){return r.loadTopceEvergreen()}),at(11,"Load Topce Evergreen"),rt()(),nt(12,"div",6)(13,"div")(14,"label"),at(15,"Load PGN Zip from disk: "),nt(16,"input",7),dt("change",function(s){return r.onPgnZipSelected(s)}),rt()()(),nt(17,"div")(18,"label"),at(19,"Load PGN File from disk: "),nt(20,"input",8),dt("change",function(s){return r.onPgnFileSelected(s)}),rt()()(),Ot(21,fe,2,0,"div",9),rt(),Ot(22,he,7,4,"div",10),nt(23,"div",11)(24,"button",12),dt("click",function(){return r.start()}),at(25,"<<"),rt(),nt(26,"button",12),dt("click",function(){return r.prev()}),at(27,"<"),rt(),nt(28,"button",12),dt("click",function(){return r.next()}),at(29,">"),rt(),nt(30,"button",12),dt("click",function(){return r.end()}),at(31,">>"),rt()(),nt(32,"div",13),at(33),rt(),nt(34,"div",14)(35,"h3"),at(36,"Replay Options"),rt(),nt(37,"div",15)(38,"label")(39,"input",16),kt("ngModelChange",function(s){return bt(r.replayMode,s)||(r.replayMode=s),s}),rt(),at(40," Real Time"),rt(),nt(41,"label")(42,"input",17),kt("ngModelChange",function(s){return bt(r.replayMode,s)||(r.replayMode=s),s}),rt(),at(43," Proportional"),rt(),nt(44,"label")(45,"input",18),kt("ngModelChange",function(s){return bt(r.replayMode,s)||(r.replayMode=s),s}),rt(),at(46," Fixed Time"),rt()(),Ot(47,de,4,1,"div",19)(48,ue,4,1,"div",19),nt(49,"div",20)(50,"button",5),dt("click",function(){return r.replayGame()}),at(51,"Replay Game"),rt(),nt(52,"button",5),dt("click",function(){return r.stopReplay()}),at(53,"Stop"),rt()()(),nt(54,"div",21)(55,"textarea",22),kt("ngModelChange",function(s){return bt(r.pgn,s)||(r.pgn=s),s}),rt(),nt(56,"button",5),dt("click",function(){return r.overrideLoadPgn()}),at(57,"Load PGN"),rt()()()()()),o&2&&(ct(16),ut("disabled",r.isLoading),ct(4),ut("disabled",r.isLoading),ct(),ut("ngIf",r.isLoading),ct(),ut("ngIf",r.games.length>1),ct(2),ut("disabled",r.currentMoveIndex===-1),ct(2),ut("disabled",r.currentMoveIndex===-1),ct(2),ut("disabled",r.currentMoveIndex>=r.moves.length-1),ct(2),ut("disabled",r.currentMoveIndex>=r.moves.length-1),ct(3),Mt(" Move: ",r.currentMoveIndex+1," / ",r.moves.length," "),ct(6),vt("ngModel",r.replayMode),ct(3),vt("ngModel",r.replayMode),ct(3),vt("ngModel",r.replayMode),ct(2),ut("ngIf",r.replayMode==="proportional"),ct(),ut("ngIf",r.replayMode==="fixed"),ct(7),vt("ngModel",r.pgn))},dependencies:[Yt,Ht,te,Xt,qt,$t,Jt,Qt,Tt],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;min-height:100vh;background-color:#f9f9f9;background-image:linear-gradient(rgba(255,255,255,.7) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.7) 1px,transparent 1px);background-size:20px 20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333;font-size:2rem;font-weight:700}.viewer-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:400px 1fr;gap:20px;max-width:1200px;width:100%;align-items:start}.board-container[_ngcontent-%COMP%]{width:400px;height:400px;border-radius:4px;box-shadow:0 2px 8px #0000001a;background:#fff}.controls-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px;width:100%}.game-navigation[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%], .status[_ngcontent-%COMP%], .pgn-input[_ngcontent-%COMP%]{grid-column:1 / -1}.buttons[_ngcontent-%COMP%], .zip-loader[_ngcontent-%COMP%], .game-navigation[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%], .status[_ngcontent-%COMP%], .replay-controls[_ngcontent-%COMP%], .pgn-input[_ngcontent-%COMP%]{background-color:#f8f8f8;border-radius:8px;padding:15px;box-shadow:0 2px 4px #0000001a}button[_ngcontent-%COMP%]{background-color:#4a6ea9;color:#fff;border:none;padding:10px 16px;border-radius:5px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#375590;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666;cursor:not-allowed;opacity:.6}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.zip-loader[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.zip-loader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:.9rem;display:flex;flex-direction:column;gap:6px}.zip-loader[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #ddd;border-radius:5px;padding:8px;font-size:.85rem;cursor:pointer;transition:all .3s ease}.zip-loader[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:hover:not(:disabled){border-color:#4a6ea9;background:#f0f4f8}.zip-loader[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.loading-indicator[_ngcontent-%COMP%]{color:#4a6ea9;font-weight:600;font-size:.9rem}.game-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;font-weight:600;color:#333;padding:12px}.game-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:90px;padding:8px 14px}.game-navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4a6ea9;font-size:1rem;font-weight:700}.navigation[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center;padding:12px}.navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;font-size:1.1em;min-width:50px;font-weight:600}.status[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1rem;color:#333;padding:12px;background-color:#e8f0f8;border:1px solid #4a6ea9}.replay-controls[_ngcontent-%COMP%]{padding:15px}.replay-controls[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;color:#333;font-size:1.1rem;font-weight:600}.mode-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.mode-selection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:500;cursor:pointer;padding:6px;border-radius:4px;transition:all .3s ease;font-size:.9rem}.mode-selection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background:#e8f0f8}.mode-selection[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer;accent-color:#4a6ea9}.option-input[_ngcontent-%COMP%]{margin-bottom:12px}.option-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;color:#333;font-weight:500;font-size:.9rem}.option-input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #ddd;border-radius:5px;padding:8px;font-size:.9rem;transition:all .3s ease}.option-input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:#4a6ea9;box-shadow:0 0 0 3px #4a6ea91a}.replay-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.replay-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.pgn-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:15px}textarea[_ngcontent-%COMP%]{width:100%;background:#fff;color:#333;border:1px solid #ddd;border-radius:5px;padding:12px;font-family:Courier New,monospace;font-size:.85rem;line-height:1.5;resize:vertical;min-height:120px;transition:all .3s ease}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#4a6ea9;box-shadow:0 0 0 3px #4a6ea91a}textarea[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}@media(max-width:1024px){.viewer-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.board-container[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;aspect-ratio:1;margin:0 auto}.controls-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:768px){.container[_ngcontent-%COMP%]{padding:15px 10px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:15px}.board-container[_ngcontent-%COMP%]{max-width:100%}.navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;min-width:45px;font-size:1em}.game-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}.game-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px}.buttons[_ngcontent-%COMP%], .zip-loader[_ngcontent-%COMP%], .replay-controls[_ngcontent-%COMP%], .pgn-input[_ngcontent-%COMP%]{padding:12px}}@media(max-width:480px){.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.navigation[_ngcontent-%COMP%]{gap:6px}.navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;min-width:40px}}']})}}return g})();export{xe as PgnViewerComponent};
